webpackJsonp([1],{0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(1),u=r(o),a=n(31),i=r(a),l=n(188),c=n(250),f=r(c);i["default"].render(u["default"].createElement(l.Router,{history:l.hashHistory},f["default"]),document.getElementById("content"))},250:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),u=r(o),a=n(188),i=n(251),l=r(i),c=n(263),f=r(c),s=u["default"].createElement(a.Route,{path:"/",component:l["default"]},u["default"].createElement(a.IndexRoute,{component:f["default"]}),u["default"].createElement(a.Route,{path:"/all",component:f["default"]}),u["default"].createElement(a.Route,{path:"*",component:f["default"]}));t["default"]=s},251:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),f=n(179),s=n(165),p=n(249),d=r(p),y=n(252),h=r(y),b=n(257),v=r(b),m=(0,s.applyMiddleware)(d["default"])(s.createStore),O=m(h["default"]);(0,v["default"])();var E=function(e){function t(){return o(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){return c["default"].createElement(f.Provider,{store:O},this.props.children)}}]),t}(c["default"].Component);t["default"]=E},252:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(165),o=n(253),u=n(255),a=(0,r.combineReducers)({todos:o.todos,input:o.input,filterName:u.filterName});t["default"]=a},253:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){switch(t.type){case i.ADD_TODO:return{id:t.id,text:t.value,completed:!1};case i.TOGGLE_TODO:return e.id!==t.id?e:Object.assign({},e,{completed:!e.completed});default:return e}}function u(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=arguments[1];switch(t.type){case i.SAVE_INPUT:return t.value;default:return e}}function a(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments[1];switch(t.type){case i.ADD_TODO:return[].concat(r(e),[o(void 0,t)]);case i.TOGGLE_TODO:return e.map(function(e){return o(e,t)});case i.DELETE_TODO:return e.filter(function(e){return e.id!==t.id});case i.CLEAR_TODO:return[];default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.input=u,t.todos=a;var i=n(254)},254:function(e,t){"use strict";function n(e){return{type:l,id:y++,value:e}}function r(e){return{type:d,value:e}}function o(e){return{type:c,id:e}}function u(e){return{type:f,id:e}}function a(e){return{type:p,filter:e}}function i(){return{type:s}}Object.defineProperty(t,"__esModule",{value:!0}),t.addTodo=n,t.saveInput=r,t.toggleTodo=o,t.deleteTodo=u,t.filterTodo=a,t.clearTodo=i;var l=t.ADD_TODO="ADD_TODO",c=t.TOGGLE_TODO="TOGGLE_TODO",f=t.DELETE_TODO="DELETE_TODO",s=t.CLEAR_TODO="CLEAR_TODO",p=t.FILTER_TODO="FILTER_TODO",d=t.SAVE_INPUT="SAVE_INPUT",y=0},255:function(e,t,n){"use strict";function r(){var e=arguments.length<=0||void 0===arguments[0]?"ALL":arguments[0],t=arguments[1];switch(t.type){case o.SET_FILTER:return t.filter;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.filterName=r;var o=n(256)},256:function(e,t){"use strict";function n(e){return{type:r,filter:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setFilter=n;var r=t.SET_FILTER="SET_FILTER"},257:function(e,t,n){var r=(n(258),n(259)),o=!1;e.exports=function(e){e=e||{};var t=e.shouldRejectClick||r;o=!0,n(40).injection.injectEventPluginsByName({TapEventPlugin:n(260)(t)})}},258:function(e,t,n){"use strict";var r=function(e,t,n,r,o,u,a,i){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,u,a,i],f=0;l=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return c[f++]}))}throw l.framesToPop=1,l}};e.exports=r},259:function(e,t){e.exports=function(e,t){if(e&&t-e<750)return!0}},260:function(e,t,n){"use strict";function r(e,t){var n=f.extractSingleTouch(t);return n?n[e.page]:e.page in t?t[e.page]:t[e.client]+s[e.envScroll]}function o(e,t){var n=r(_.x,t),o=r(_.y,t);return Math.pow(Math.pow(n-e.x,2)+Math.pow(o-e.y,2),.5)}function u(e){return{tapMoveThreshold:v,ignoreMouseThreshold:m,eventTypes:T,extractEvents:function(t,n,u,a){if(b(t))E=j();else if(e(E,j()))return null;if(!y(t)&&!h(t))return null;var i=null,f=o(O,u);return h(t)&&f<v&&(i=c.getPooled(T.touchTap,n,u,a)),y(t)?(O.x=r(_.x,u),O.y=r(_.y,u)):h(t)&&(O.x=0,O.y=0),l.accumulateTwoPhaseDispatches(i),i}}}var a=n(38),i=n(42),l=n(39),c=n(67),f=n(261),s=n(68),p=n(262),d=a.topLevelTypes,y=i.isStartish,h=i.isEndish,b=function(e){var t=[d.topTouchCancel,d.topTouchEnd,d.topTouchStart,d.topTouchMove];return t.indexOf(e)>=0},v=10,m=750,O={x:null,y:null},E=null,_={x:{page:"pageX",client:"clientX",envScroll:"currentPageScrollLeft"},y:{page:"pageY",client:"clientY",envScroll:"currentPageScrollTop"}},w=[d.topTouchStart,d.topTouchCancel,d.topTouchEnd,d.topTouchMove],g=[d.topMouseDown,d.topMouseMove,d.topMouseUp].concat(w),T={touchTap:{phasedRegistrationNames:{bubbled:p({onTouchTap:null}),captured:p({onTouchTapCapture:null})},dependencies:g}},j=function(){return Date.now?Date.now:function(){return+new Date}}();e.exports=u},261:function(e,t){var n={extractSingleTouch:function(e){var t=e.touches,n=e.changedTouches,r=t&&t.length>0,o=n&&n.length>0;return!r&&o?n[0]:r?t[0]:e}};e.exports=n},262:function(e,t){"use strict";var n=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};e.exports=n},263:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),f=n(188),s=n(179),p=n(264),d=r(p),y=n(265),h=r(y),b=n(267),v=r(b),m=n(269),O=r(m),E=n(270),_=r(E),w=function(e){function t(){return o(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){var e=this.props.todos;return c["default"].createElement(_["default"],null,c["default"].createElement(d["default"],null),c["default"].createElement(v["default"],{todos:e}),c["default"].createElement(h["default"],{todos:e}),c["default"].createElement(O["default"],{todos:e}))}}]),t}(c["default"].Component);t["default"]=(0,f.withRouter)((0,s.connect)(function(e){return{todos:e.todos}})(w))},264:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),f=n(179),s=n(254),p=function(e){function t(){return o(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),i(t,[{key:"componentWillMount",value:function(){setTimeout(function(){console.log(1234)},1e3)}},{key:"getInputValue",value:function(e){var t=e.target.value,n=this.props.dispatch;n((0,s.saveInput)(t))}},{key:"addList",value:function(e){e.preventDefault();var t=this.props,n=t.dispatch,r=t.input;this.refs.input.value&&(n((0,s.addTodo)(r)),this.refs.input.value="")}},{key:"render",value:function(){var e=this;return c["default"].createElement("header",null,c["default"].createElement("form",{className:"form-horizontal",onSubmit:function(t){return e.addList(t)}},c["default"].createElement("div",{className:"form-group"},c["default"].createElement("div",{className:"col-md-3 col-xs-9"},c["default"].createElement("input",{type:"text",className:"form-control",ref:"input",onChange:function(t){return e.getInputValue(t)}})),c["default"].createElement("div",{className:"col-md-3 col-xs-3"},c["default"].createElement("button",{type:"submit",className:"btn btn-default"},"add")))))}}]),t}(c["default"].Component);t["default"]=(0,f.connect)(function(e){return{input:e.input}})(p)},265:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),f=r(c),s=n(179),p=n(266),d=r(p),y=n(254),h=function(e){function t(){return o(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),l(t,[{key:"onToggleClick",value:function(e){var t=this.props.dispatch;t((0,y.toggleTodo)(e))}},{key:"onDeleteClick",value:function(e){var t=this.props.dispatch;t((0,y.deleteTodo)(e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.todos,r=t.filterName,o=function(e,t){switch(t){case"ALL":return e;case"COMPLETED":return e.filter(function(e){return e.completed});case"ACTIVE":return e.filter(function(e){return!e.completed})}};return f["default"].createElement("ul",{className:"list-group"},o(n,r).map(function(t){return f["default"].createElement(d["default"],i({key:t.id},t,{toggleClick:function(){return e.onToggleClick(t.id)},deleteClick:function(){return e.onDeleteClick(t.id)}}))}))}}]),t}(f["default"].Component);t["default"]=(0,s.connect)(function(e){return{filterName:e.filterName}})(h)},266:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),f=(n(179),function(e){function t(){return o(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.toggleClick,n=e.deleteClick,r=e.text,o=e.completed;return c["default"].createElement("li",{className:"list-group-item",style:{textDecoration:o?"line-through":"none"}},c["default"].createElement("input",{type:"checkbox",checked:o,onChange:t})," ",r,c["default"].createElement("button",{className:"btn btn-xs pull-right btn-default",type:"button",onClick:n},"删除"))}}]),t}(c["default"].Component));t["default"]=f},267:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),f=n(179),s=n(268),p=r(s),d=function(e){function t(){return o(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),i(t,[{key:"setVisibleFilter",value:function(e){var t=this.props.dispatch;t(setFilter(e.filter))}},{key:"render",value:function(){var e=this.props.todos,t=e.length,n=e.filter(function(e){return!e.completed}).length,r=e.filter(function(e){return e.completed}).length;return c["default"].createElement("section",null,c["default"].createElement("ul",{className:"nav nav-tabs",role:"tablist"},c["default"].createElement(p["default"],{filter:"ALL",num:t},"全部"),c["default"].createElement(p["default"],{filter:"ACTIVE",num:n},"进行中"),c["default"].createElement(p["default"],{filter:"COMPLETED",num:r},"已完成")),c["default"].createElement("br",null))}}]),t}(c["default"].Component);t["default"]=(0,f.connect)()(d)},268:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),f=n(179),s=n(256),p=function(e){function t(){return o(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),i(t,[{key:"setVisibleType",value:function(e){var t=this.props.dispatch;t((0,s.setFilter)(e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.filter,r=t.filterName,o=t.num,u=n===r;return c["default"].createElement("li",{role:"presentation",className:u?"active":"",onClick:function(){return e.setVisibleType(n)}},c["default"].createElement("a",{href:"javascript:void(0);"},this.props.children," ",c["default"].createElement("span",{className:"badge"},o)))}}]),t}(c["default"].Component);t["default"]=(0,f.connect)(function(e){return{filterName:e.filterName}})(p)},269:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),f=n(179),s=n(254),p=function(e){function t(){return o(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),i(t,[{key:"clearAll",value:function(){var e=this.props.dispatch;e((0,s.clearTodo)())}},{key:"render",value:function(){var e=this,t=this.props.todos;return c["default"].createElement("footer",null,c["default"].createElement("div",{className:"row"},c["default"].createElement("div",{className:"col-md-12"},c["default"].createElement("button",{className:"btn btn-default btn-xs pull-right",style:{display:t.length?"block":"none"},onClick:function(){return e.clearAll()}},"清空"))))}}]),t}(c["default"].Component);t["default"]=(0,f.connect)()(p)},270:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),f=n(188),s=function(e){function t(){return o(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){return c["default"].createElement("section",null,c["default"].createElement("nav",{className:"navbar navbar-default"},c["default"].createElement("div",{className:"container-fluid"},c["default"].createElement("div",{className:"navbar-header"},c["default"].createElement("a",{className:"navbar-brand",href:"#"},"React + Redux + Webpack + Redux-router")))),c["default"].createElement("div",{className:"row"},c["default"].createElement("div",{className:"col-md-8 col-md-offset-2"},this.props.children)))}}]),t}(c["default"].Component);t["default"]=(0,f.withRouter)(s)}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbW9kdWxlLjJmZjhmMi5qcyIsIndlYnBhY2s6Ly8vLi9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vLy4vcm91dGVyLmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvbWFpbi5qc3giLCJ3ZWJwYWNrOi8vLy4vcmVkdWNlcnMvcmVkdWNlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vcmVkdWNlcnMvdG9kb3MuanMiLCJ3ZWJwYWNrOi8vLy4vYWN0aW9ucy90b2Rvcy5qcyIsIndlYnBhY2s6Ly8vLi9yZWR1Y2Vycy9zZXRGaWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vYWN0aW9ucy9zZXRGaWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL34vcmVhY3QtdGFwLWV2ZW50LXBsdWdpbi9zcmMvaW5qZWN0VGFwRXZlbnRQbHVnaW4uanMiLCJ3ZWJwYWNrOi8vLy4uL34vcmVhY3QtdGFwLWV2ZW50LXBsdWdpbi9+L2ZianMvbGliL2ludmFyaWFudC5qcyIsIndlYnBhY2s6Ly8vLi4vfi9yZWFjdC10YXAtZXZlbnQtcGx1Z2luL3NyYy9kZWZhdWx0Q2xpY2tSZWplY3Rpb25TdHJhdGVneS5qcyIsIndlYnBhY2s6Ly8vLi4vfi9yZWFjdC10YXAtZXZlbnQtcGx1Z2luL3NyYy9UYXBFdmVudFBsdWdpbi5qcyIsIndlYnBhY2s6Ly8vLi4vfi9yZWFjdC10YXAtZXZlbnQtcGx1Z2luL3NyYy9Ub3VjaEV2ZW50VXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4uL34vcmVhY3QtdGFwLWV2ZW50LXBsdWdpbi9+L2ZianMvbGliL2tleU9mLmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvYWxsLmpzeCIsIndlYnBhY2s6Ly8vLi9jb250YWluZXIvYWRkVG9kby5qcyIsIndlYnBhY2s6Ly8vLi9jb250YWluZXIvdG9kb0xpc3QuanMiLCJ3ZWJwYWNrOi8vLy4vY29udGFpbmVyL3RvZG8uanMiLCJ3ZWJwYWNrOi8vLy4vY29udGFpbmVyL3RvZG9TdGF0dXMuanMiLCJ3ZWJwYWNrOi8vLy4vY29udGFpbmVyL2ZpbHRlckxpbmsuanMiLCJ3ZWJwYWNrOi8vLy4vY29udGFpbmVyL2Zvb3Rlci5qcyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3BhZ2UuanN4Il0sIm5hbWVzIjpbIndlYnBhY2tKc29ucCIsIjAiLCJtb2R1bGUiLCJleHBvcnRzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9yZWFjdCIsIl9yZWFjdDIiLCJfcmVhY3REb20iLCJfcmVhY3REb20yIiwiX3JlYWN0Um91dGVyIiwiX3JvdXRlciIsIl9yb3V0ZXIyIiwicmVuZGVyIiwiY3JlYXRlRWxlbWVudCIsIlJvdXRlciIsImhpc3RvcnkiLCJoYXNoSGlzdG9yeSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCIyNTAiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiX21haW4iLCJfbWFpbjIiLCJfYWxsIiwiX2FsbDIiLCJyb3V0ZXIiLCJSb3V0ZSIsInBhdGgiLCJjb21wb25lbnQiLCJJbmRleFJvdXRlIiwiMjUxIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwic2VsZiIsImNhbGwiLCJSZWZlcmVuY2VFcnJvciIsIl9pbmhlcml0cyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsInByb3RvdHlwZSIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwiZW51bWVyYWJsZSIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImtleSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9yZWFjdFJlZHV4IiwiX3JlZHV4IiwiX3JlZHV4VGh1bmsiLCJfcmVkdXhUaHVuazIiLCJfcmVkdWNlcnMiLCJfcmVkdWNlcnMyIiwiX3JlYWN0VGFwRXZlbnRQbHVnaW4iLCJfcmVhY3RUYXBFdmVudFBsdWdpbjIiLCJ0aHVua1N0b3JlIiwiYXBwbHlNaWRkbGV3YXJlIiwiY3JlYXRlU3RvcmUiLCJzdG9yZSIsIk1haW4iLCJfUmVhY3QkQ29tcG9uZW50IiwidGhpcyIsImdldFByb3RvdHlwZU9mIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJQcm92aWRlciIsImNoaWxkcmVuIiwiQ29tcG9uZW50IiwiMjUyIiwiX3RvZG9zIiwiX3NldEZpbHRlciIsInJlZHVjZXJzIiwiY29tYmluZVJlZHVjZXJzIiwidG9kb3MiLCJpbnB1dCIsImZpbHRlck5hbWUiLCIyNTMiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJhcnIiLCJBcnJheSIsImlzQXJyYXkiLCJhcnIyIiwiZnJvbSIsInRvZG8iLCJzdGF0ZSIsImFjdGlvbiIsInR5cGUiLCJBRERfVE9ETyIsImlkIiwidGV4dCIsImNvbXBsZXRlZCIsIlRPR0dMRV9UT0RPIiwiYXNzaWduIiwidW5kZWZpbmVkIiwiU0FWRV9JTlBVVCIsImNvbmNhdCIsIm1hcCIsIml0ZW0iLCJERUxFVEVfVE9ETyIsImZpbHRlciIsIkNMRUFSX1RPRE8iLCIyNTQiLCJhZGRUb2RvIiwibm9kZSIsInNhdmVJbnB1dCIsInRvZ2dsZVRvZG8iLCJkZWxldGVUb2RvIiwiZmlsdGVyVG9kbyIsIkZJTFRFUl9UT0RPIiwiY2xlYXJUb2RvIiwiMjU1IiwiU0VUX0ZJTFRFUiIsIjI1NiIsInNldEZpbHRlciIsIjI1NyIsImRlZmF1bHRDbGlja1JlamVjdGlvblN0cmF0ZWd5IiwiYWxyZWFkeUluamVjdGVkIiwic3RyYXRlZ3lPdmVycmlkZXMiLCJzaG91bGRSZWplY3RDbGljayIsImluamVjdGlvbiIsImluamVjdEV2ZW50UGx1Z2luc0J5TmFtZSIsIlRhcEV2ZW50UGx1Z2luIiwiMjU4IiwiaW52YXJpYW50IiwiY29uZGl0aW9uIiwiZm9ybWF0IiwiYSIsImIiLCJjIiwiZCIsImUiLCJmIiwiZXJyb3IiLCJFcnJvciIsImFyZ3MiLCJhcmdJbmRleCIsInJlcGxhY2UiLCJmcmFtZXNUb1BvcCIsIjI1OSIsImxhc3RUb3VjaEV2ZW50IiwiY2xpY2tUaW1lc3RhbXAiLCIyNjAiLCJnZXRBeGlzQ29vcmRPZkV2ZW50IiwiYXhpcyIsIm5hdGl2ZUV2ZW50Iiwic2luZ2xlVG91Y2giLCJUb3VjaEV2ZW50VXRpbHMiLCJleHRyYWN0U2luZ2xlVG91Y2giLCJwYWdlIiwiY2xpZW50IiwiVmlld3BvcnRNZXRyaWNzIiwiZW52U2Nyb2xsIiwiZ2V0RGlzdGFuY2UiLCJjb29yZHMiLCJwYWdlWCIsIkF4aXMiLCJ4IiwicGFnZVkiLCJ5IiwiTWF0aCIsInBvdyIsImNyZWF0ZVRhcEV2ZW50UGx1Z2luIiwidGFwTW92ZVRocmVzaG9sZCIsImlnbm9yZU1vdXNlVGhyZXNob2xkIiwiZXZlbnRUeXBlcyIsImV4dHJhY3RFdmVudHMiLCJ0b3BMZXZlbFR5cGUiLCJ0YXJnZXRJbnN0IiwibmF0aXZlRXZlbnRUYXJnZXQiLCJpc1RvdWNoIiwibm93IiwiaXNTdGFydGlzaCIsImlzRW5kaXNoIiwiZXZlbnQiLCJkaXN0YW5jZSIsInN0YXJ0Q29vcmRzIiwiU3ludGhldGljVUlFdmVudCIsImdldFBvb2xlZCIsInRvdWNoVGFwIiwiRXZlbnRQcm9wYWdhdG9ycyIsImFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMiLCJFdmVudENvbnN0YW50cyIsIkV2ZW50UGx1Z2luVXRpbHMiLCJrZXlPZiIsInRvcExldmVsVHlwZXMiLCJ0b3VjaFR5cGVzIiwidG9wVG91Y2hDYW5jZWwiLCJ0b3BUb3VjaEVuZCIsInRvcFRvdWNoU3RhcnQiLCJ0b3BUb3VjaE1vdmUiLCJpbmRleE9mIiwidG91Y2hFdmVudHMiLCJkZXBlbmRlbmNpZXMiLCJ0b3BNb3VzZURvd24iLCJ0b3BNb3VzZU1vdmUiLCJ0b3BNb3VzZVVwIiwicGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMiLCJidWJibGVkIiwib25Ub3VjaFRhcCIsImNhcHR1cmVkIiwib25Ub3VjaFRhcENhcHR1cmUiLCJEYXRlIiwiMjYxIiwidG91Y2hlcyIsImNoYW5nZWRUb3VjaGVzIiwiaGFzVG91Y2hlcyIsImhhc0NoYW5nZWRUb3VjaGVzIiwiMjYyIiwib25lS2V5T2JqIiwiaGFzT3duUHJvcGVydHkiLCIyNjMiLCJfYWRkVG9kbyIsIl9hZGRUb2RvMiIsIl90b2RvTGlzdCIsIl90b2RvTGlzdDIiLCJfdG9kb1N0YXR1cyIsIl90b2RvU3RhdHVzMiIsIl9mb290ZXIiLCJfZm9vdGVyMiIsIl9wYWdlIiwiX3BhZ2UyIiwiQWxsIiwid2l0aFJvdXRlciIsImNvbm5lY3QiLCIyNjQiLCJBZGRUb2RvIiwic2V0VGltZW91dCIsImNvbnNvbGUiLCJsb2ciLCJkaXNwYXRjaCIsInByZXZlbnREZWZhdWx0IiwiX3Byb3BzIiwicmVmcyIsIl90aGlzMiIsImNsYXNzTmFtZSIsIm9uU3VibWl0IiwiYWRkTGlzdCIsInJlZiIsIm9uQ2hhbmdlIiwiZ2V0SW5wdXRWYWx1ZSIsIjI2NSIsIl9leHRlbmRzIiwic291cmNlIiwiX3RvZG8iLCJfdG9kbzIiLCJUb2RvTGlzdCIsInZpc2liZWxUb2RvcyIsInQiLCJ0b2dnbGVDbGljayIsIm9uVG9nZ2xlQ2xpY2siLCJkZWxldGVDbGljayIsIm9uRGVsZXRlQ2xpY2siLCIyNjYiLCJUb2RvIiwic3R5bGUiLCJ0ZXh0RGVjb3JhdGlvbiIsImNoZWNrZWQiLCJvbkNsaWNrIiwiMjY3IiwiX2ZpbHRlckxpbmsiLCJfZmlsdGVyTGluazIiLCJUb2RvU3RhdHVzIiwib3duUHJvcHMiLCJhbGwiLCJhY3RpdmUiLCJyb2xlIiwibnVtIiwiMjY4IiwiRmlsdGVyTGluayIsInNldFZpc2libGVUeXBlIiwiaHJlZiIsIjI2OSIsIkZvb3RlciIsImRpc3BsYXkiLCJjbGVhckFsbCIsIjI3MCIsIlBhZ2UiXSwibWFwcGluZ3MiOiJBQUFBQSxjQUFjLElBRVJDLEVBQ0EsU0FBU0MsRUFBUUMsRUFBU0Ms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MkJ1QyxLQUFNeEQsT0FBT3lELGVBQWVzTixHQUFNck4sTUFBTUYsS0FBTUcsWUF1Q3BGLE1BNUNBdEMsR0FBVTBQLEVBQU14TixHQVFoQnZCLEVBQWErTyxJQUNUeE8sSUFBSyxTQUNMckMsTUFBTyxXc0JqMkNSLE1BQ0loQixjQUFBTyxjQUFBLGVBQ0lQLGFBQUFPLGNBQUEsT0FBSzRPLFVBQVUseUJBQ1huUCxhQUFBTyxjQUFBLE9BQUs0TyxVQUFVLG1CQUNYblAsYUFBQU8sY0FBQSxPQUFLNE8sVUFBVSxpQkFDZm5QLGFBQUFPLGNBQUEsS0FBRzRPLFVBQVUsZUFBZW9DLEtBQUssS0FBakMsNkNBTVJ2UixhQUFBTyxjQUFBLE9BQUs0TyxVQUFVLE9BQ1huUCxhQUFBTyxjQUFBLE9BQUs0TyxVQUFVLDRCQUNUN0ssS0FBS3JCLE1BQU0wQixnQnRCczNDekJrTixHc0JyNENPN1IsYUFBTTRFLFV0Qnc0Q3hCbkYsZXNCajNDYyxFQUFBVSxFQUFBb08sWUFBV3NEIiwiZmlsZSI6Im1vZHVsZS4yZmY4ZjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3ZWJwYWNrSnNvbnAoWzFdLHtcblxuLyoqKi8gMDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblx0XG5cdHZhciBfcmVhY3RSb3V0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4OCk7XG5cdFxuXHR2YXIgX3JvdXRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjUwKTtcblx0XG5cdHZhciBfcm91dGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0Ly9pbXBvcnQgeyBSb3V0ZXIsIHVzZVJvdXRlckhpc3RvcnkgfSBmcm9tICdyZWFjdC1yb3V0ZXInXG5cdC8vaW1wb3J0IHsgY3JlYXRlSGFzaEhpc3RvcnkgfSBmcm9tICdoaXN0b3J5J1xuXHQvLyB1c2VSb3V0ZXJIaXN0b3J5IGNyZWF0ZXMgYSBjb21wb3NhYmxlIGhpZ2hlci1vcmRlciBmdW5jdGlvblxuXHQvL2NvbnN0IGFwcEhpc3RvcnkgPSB1c2VSb3V0ZXJIaXN0b3J5KGNyZWF0ZUhhc2hIaXN0b3J5KSh7IHF1ZXJ5S2V5OiBmYWxzZSB9KVxuXHRcblx0X3JlYWN0RG9tMi5kZWZhdWx0LnJlbmRlcihfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICBfcmVhY3RSb3V0ZXIuUm91dGVyLFxuXHQgIHsgaGlzdG9yeTogX3JlYWN0Um91dGVyLmhhc2hIaXN0b3J5IH0sXG5cdCAgX3JvdXRlcjIuZGVmYXVsdFxuXHQpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpKTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMjUwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0Um91dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODgpO1xuXHRcblx0dmFyIF9tYWluID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNTEpO1xuXHRcblx0dmFyIF9tYWluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21haW4pO1xuXHRcblx0dmFyIF9hbGwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2Myk7XG5cdFxuXHR2YXIgX2FsbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hbGwpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciByb3V0ZXIgPSBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgIF9yZWFjdFJvdXRlci5Sb3V0ZSxcblx0ICAgIHsgcGF0aDogJy8nLCBjb21wb25lbnQ6IF9tYWluMi5kZWZhdWx0IH0sXG5cdCAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RSb3V0ZXIuSW5kZXhSb3V0ZSwgeyBjb21wb25lbnQ6IF9hbGwyLmRlZmF1bHQgfSksXG5cdCAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RSb3V0ZXIuUm91dGUsIHsgcGF0aDogJy9hbGwnLCBjb21wb25lbnQ6IF9hbGwyLmRlZmF1bHQgfSksXG5cdCAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RSb3V0ZXIuUm91dGUsIHsgcGF0aDogJyonLCBjb21wb25lbnQ6IF9hbGwyLmRlZmF1bHQgfSlcblx0KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gcm91dGVyO1xuXG4vKioqLyB9LFxuXG4vKioqLyAyNTE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0UmVkdXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3OSk7XG5cdFxuXHR2YXIgX3JlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjUpO1xuXHRcblx0dmFyIF9yZWR1eFRodW5rID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNDkpO1xuXHRcblx0dmFyIF9yZWR1eFRodW5rMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZHV4VGh1bmspO1xuXHRcblx0dmFyIF9yZWR1Y2VycyA9IF9fd2VicGFja19yZXF1aXJlX18oMjUyKTtcblx0XG5cdHZhciBfcmVkdWNlcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVkdWNlcnMpO1xuXHRcblx0dmFyIF9yZWFjdFRhcEV2ZW50UGx1Z2luID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNTcpO1xuXHRcblx0dmFyIF9yZWFjdFRhcEV2ZW50UGx1Z2luMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0VGFwRXZlbnRQbHVnaW4pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIHRodW5rU3RvcmUgPSAoMCwgX3JlZHV4LmFwcGx5TWlkZGxld2FyZSkoX3JlZHV4VGh1bmsyLmRlZmF1bHQpKF9yZWR1eC5jcmVhdGVTdG9yZSk7XG5cdHZhciBzdG9yZSA9IHRodW5rU3RvcmUoX3JlZHVjZXJzMi5kZWZhdWx0KTtcblx0XG5cdCgwLCBfcmVhY3RUYXBFdmVudFBsdWdpbjIuZGVmYXVsdCkoKTtcblx0XG5cdHZhciBNYWluID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgIF9pbmhlcml0cyhNYWluLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBNYWluKCkge1xuXHQgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNYWluKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIE9iamVjdC5nZXRQcm90b3R5cGVPZihNYWluKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoTWFpbiwgW3tcblx0ICAgICAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgIF9yZWFjdFJlZHV4LlByb3ZpZGVyLFxuXHQgICAgICAgICAgICAgICAgeyBzdG9yZTogc3RvcmUgfSxcblx0ICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5cblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIE1haW47XG5cdH0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBNYWluO1xuXG4vKioqLyB9LFxuXG4vKioqLyAyNTI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oMTY1KTtcblx0XG5cdHZhciBfdG9kb3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1Myk7XG5cdFxuXHR2YXIgX3NldEZpbHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjU1KTtcblx0XG5cdHZhciByZWR1Y2VycyA9ICgwLCBfcmVkdXguY29tYmluZVJlZHVjZXJzKSh7XG5cdCAgICB0b2RvczogX3RvZG9zLnRvZG9zLFxuXHQgICAgaW5wdXQ6IF90b2Rvcy5pbnB1dCxcblx0ICAgIGZpbHRlck5hbWU6IF9zZXRGaWx0ZXIuZmlsdGVyTmFtZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gcmVkdWNlcnM7XG5cbi8qKiovIH0sXG5cbi8qKiovIDI1Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuaW5wdXQgPSBpbnB1dDtcblx0ZXhwb3J0cy50b2RvcyA9IHRvZG9zO1xuXHRcblx0dmFyIF90b2RvcyA9IF9fd2VicGFja19yZXF1aXJlX18oMjU0KTtcblx0XG5cdGZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gdG9kbyhzdGF0ZSwgYWN0aW9uKSB7XG5cdCAgICA7XG5cdCAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG5cdCAgICAgICAgY2FzZSBfdG9kb3MuQUREX1RPRE86XG5cdCAgICAgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgICAgICBpZDogYWN0aW9uLmlkLFxuXHQgICAgICAgICAgICAgICAgdGV4dDogYWN0aW9uLnZhbHVlLFxuXHQgICAgICAgICAgICAgICAgY29tcGxldGVkOiBmYWxzZVxuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgIGNhc2UgX3RvZG9zLlRPR0dMRV9UT0RPOlxuXHQgICAgICAgICAgICBpZiAoc3RhdGUuaWQgIT09IGFjdGlvbi5pZCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuXHQgICAgICAgICAgICAgICAgY29tcGxldGVkOiAhc3RhdGUuY29tcGxldGVkXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gaW5wdXQoKSB7XG5cdCAgICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyAnJyA6IGFyZ3VtZW50c1swXTtcblx0ICAgIHZhciBhY3Rpb24gPSBhcmd1bWVudHNbMV07XG5cdFxuXHQgICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuXHQgICAgICAgIGNhc2UgX3RvZG9zLlNBVkVfSU5QVVQ6XG5cdCAgICAgICAgICAgIHJldHVybiBhY3Rpb24udmFsdWU7XG5cdCAgICAgICAgZGVmYXVsdDpcblx0ICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiB0b2RvcygpIHtcblx0ICAgIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IFtdIDogYXJndW1lbnRzWzBdO1xuXHQgICAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG5cdCAgICAgICAgY2FzZSBfdG9kb3MuQUREX1RPRE86XG5cdCAgICAgICAgICAgIHJldHVybiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHN0YXRlKSwgW3RvZG8odW5kZWZpbmVkLCBhY3Rpb24pXSk7XG5cdCAgICAgICAgY2FzZSBfdG9kb3MuVE9HR0xFX1RPRE86XG5cdCAgICAgICAgICAgIHJldHVybiBzdGF0ZS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0b2RvKGl0ZW0sIGFjdGlvbik7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIGNhc2UgX3RvZG9zLkRFTEVURV9UT0RPOlxuXHQgICAgICAgICAgICByZXR1cm4gc3RhdGUuZmlsdGVyKGZ1bmN0aW9uICh0b2RvKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdG9kby5pZCAhPT0gYWN0aW9uLmlkO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICBjYXNlIF90b2Rvcy5DTEVBUl9UT0RPOlxuXHQgICAgICAgICAgICByZXR1cm4gW107XG5cdCAgICAgICAgZGVmYXVsdDpcblx0ICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuXHQgICAgfVxuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDI1NDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuYWRkVG9kbyA9IGFkZFRvZG87XG5cdGV4cG9ydHMuc2F2ZUlucHV0ID0gc2F2ZUlucHV0O1xuXHRleHBvcnRzLnRvZ2dsZVRvZG8gPSB0b2dnbGVUb2RvO1xuXHRleHBvcnRzLmRlbGV0ZVRvZG8gPSBkZWxldGVUb2RvO1xuXHRleHBvcnRzLmZpbHRlclRvZG8gPSBmaWx0ZXJUb2RvO1xuXHRleHBvcnRzLmNsZWFyVG9kbyA9IGNsZWFyVG9kbztcblx0dmFyIEFERF9UT0RPID0gZXhwb3J0cy5BRERfVE9ETyA9ICdBRERfVE9ETyc7XG5cdHZhciBUT0dHTEVfVE9ETyA9IGV4cG9ydHMuVE9HR0xFX1RPRE8gPSAnVE9HR0xFX1RPRE8nO1xuXHR2YXIgREVMRVRFX1RPRE8gPSBleHBvcnRzLkRFTEVURV9UT0RPID0gJ0RFTEVURV9UT0RPJztcblx0dmFyIENMRUFSX1RPRE8gPSBleHBvcnRzLkNMRUFSX1RPRE8gPSAnQ0xFQVJfVE9ETyc7XG5cdFxuXHR2YXIgRklMVEVSX1RPRE8gPSBleHBvcnRzLkZJTFRFUl9UT0RPID0gJ0ZJTFRFUl9UT0RPJztcblx0XG5cdHZhciBTQVZFX0lOUFVUID0gZXhwb3J0cy5TQVZFX0lOUFVUID0gJ1NBVkVfSU5QVVQnO1xuXHRcblx0dmFyIG5vZGUgPSAwO1xuXHRmdW5jdGlvbiBhZGRUb2RvKHZhbHVlKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIHR5cGU6IEFERF9UT0RPLFxuXHQgICAgICAgIGlkOiBub2RlKyssXG5cdCAgICAgICAgdmFsdWU6IHZhbHVlXG5cdCAgICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzYXZlSW5wdXQodmFsdWUpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgdHlwZTogU0FWRV9JTlBVVCxcblx0ICAgICAgICB2YWx1ZTogdmFsdWVcblx0ICAgIH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRvZ2dsZVRvZG8oaWQpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgdHlwZTogVE9HR0xFX1RPRE8sXG5cdCAgICAgICAgaWQ6IGlkXG5cdCAgICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBkZWxldGVUb2RvKGlkKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIHR5cGU6IERFTEVURV9UT0RPLFxuXHQgICAgICAgIGlkOiBpZFxuXHQgICAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZmlsdGVyVG9kbyhmaWx0ZXIpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgdHlwZTogRklMVEVSX1RPRE8sXG5cdCAgICAgICAgZmlsdGVyOiBmaWx0ZXJcblx0ICAgIH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNsZWFyVG9kbygpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgdHlwZTogQ0xFQVJfVE9ET1xuXHQgICAgfTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyAyNTU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmZpbHRlck5hbWUgPSBmaWx0ZXJOYW1lO1xuXHRcblx0dmFyIF9zZXRGaWx0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1Nik7XG5cdFxuXHRmdW5jdGlvbiBmaWx0ZXJOYW1lKCkge1xuXHQgICAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gJ0FMTCcgOiBhcmd1bWVudHNbMF07XG5cdCAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzWzFdO1xuXHRcblx0ICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcblx0ICAgICAgICBjYXNlIF9zZXRGaWx0ZXIuU0VUX0ZJTFRFUjpcblx0ICAgICAgICAgICAgcmV0dXJuIGFjdGlvbi5maWx0ZXI7XG5cdCAgICAgICAgZGVmYXVsdDpcblx0ICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuXHQgICAgfVxuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDI1Njpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuc2V0RmlsdGVyID0gc2V0RmlsdGVyO1xuXHR2YXIgU0VUX0ZJTFRFUiA9IGV4cG9ydHMuU0VUX0ZJTFRFUiA9ICdTRVRfRklMVEVSJztcblx0XG5cdGZ1bmN0aW9uIHNldEZpbHRlcihmaWx0ZXIpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgdHlwZTogU0VUX0ZJTFRFUixcblx0ICAgICAgICBmaWx0ZXI6IGZpbHRlclxuXHQgICAgfTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyAyNTc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgaW52YXJpYW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNTgpO1xuXHR2YXIgZGVmYXVsdENsaWNrUmVqZWN0aW9uU3RyYXRlZ3kgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1OSk7XG5cdFxuXHR2YXIgYWxyZWFkeUluamVjdGVkID0gZmFsc2U7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluamVjdFRhcEV2ZW50UGx1Z2luIChzdHJhdGVneU92ZXJyaWRlcykge1xuXHQgIHN0cmF0ZWd5T3ZlcnJpZGVzID0gc3RyYXRlZ3lPdmVycmlkZXMgfHwge31cblx0ICB2YXIgc2hvdWxkUmVqZWN0Q2xpY2sgPSBzdHJhdGVneU92ZXJyaWRlcy5zaG91bGRSZWplY3RDbGljayB8fCBkZWZhdWx0Q2xpY2tSZWplY3Rpb25TdHJhdGVneTtcblx0XG5cdCAgaWYgKGZhbHNlKSB7XG5cdCAgICBpbnZhcmlhbnQoXG5cdCAgICAgICFhbHJlYWR5SW5qZWN0ZWQsXG5cdCAgICAgICdpbmplY3RUYXBFdmVudFBsdWdpbigpOiBDYW4gb25seSBiZSBjYWxsZWQgb25jZSBwZXIgYXBwbGljYXRpb24gbGlmZWN5Y2xlLlxcblxcblxcXG5cdEl0IGlzIHJlY29tbWVuZGVkIHRvIGNhbGwgaW5qZWN0VGFwRXZlbnRQbHVnaW4oKSBqdXN0IGJlZm9yZSB5b3UgY2FsbCBcXFxuXHRSZWFjdERPTS5yZW5kZXIoKS4gSWYgeW91IGFyZSB1c2luZyBhbiBleHRlcm5hbCBsaWJyYXJ5IHdoaWNoIGNhbGxzIGluamVjdFRhcEV2ZW50UGx1Z2luKCkgXFxcblx0aXRzZWxmLCBwbGVhc2UgY29udGFjdCB0aGUgbWFpbnRhaW5lciBhcyBpdCBzaG91bGRuXFwndCBiZSBjYWxsZWQgaW4gbGlicmFyeSBjb2RlIGFuZCBcXFxuXHRzaG91bGQgYmUgaW5qZWN0ZWQgYnkgdGhlIGFwcGxpY2F0aW9uLidcblx0ICAgIClcblx0ICB9XG5cdFxuXHQgIGFscmVhZHlJbmplY3RlZCA9IHRydWU7XG5cdFxuXHQgIF9fd2VicGFja19yZXF1aXJlX18oNDApLmluamVjdGlvbi5pbmplY3RFdmVudFBsdWdpbnNCeU5hbWUoe1xuXHQgICAgJ1RhcEV2ZW50UGx1Z2luJzogICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXygyNjApKHNob3VsZFJlamVjdENsaWNrKVxuXHQgIH0pO1xuXHR9O1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDI1ODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuXHQgKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuXHQgKlxuXHQgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0ICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG5cdCAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuXHQgKlxuXHQgKiBAcHJvdmlkZXNNb2R1bGUgaW52YXJpYW50XG5cdCAqL1xuXHRcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHQvKipcblx0ICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuXHQgKlxuXHQgKiBQcm92aWRlIHNwcmludGYtc3R5bGUgZm9ybWF0IChvbmx5ICVzIGlzIHN1cHBvcnRlZCkgYW5kIGFyZ3VtZW50c1xuXHQgKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcblx0ICogZXhwZWN0aW5nLlxuXHQgKlxuXHQgKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuXHQgKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG5cdCAqL1xuXHRcblx0dmFyIGludmFyaWFudCA9IGZ1bmN0aW9uIChjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuXHQgIGlmIChmYWxzZSkge1xuXHQgICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGlmICghY29uZGl0aW9uKSB7XG5cdCAgICB2YXIgZXJyb3I7XG5cdCAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgKyAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZhciBhcmdzID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuXHQgICAgICB2YXIgYXJnSW5kZXggPSAwO1xuXHQgICAgICBlcnJvciA9IG5ldyBFcnJvcignSW52YXJpYW50IFZpb2xhdGlvbjogJyArIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG5cdCAgICAgIH0pKTtcblx0ICAgIH1cblx0XG5cdCAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG5cdCAgICB0aHJvdyBlcnJvcjtcblx0ICB9XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGludmFyaWFudDtcblxuLyoqKi8gfSxcblxuLyoqKi8gMjU5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsYXN0VG91Y2hFdmVudCwgY2xpY2tUaW1lc3RhbXApIHtcblx0ICBpZiAobGFzdFRvdWNoRXZlbnQgJiYgKGNsaWNrVGltZXN0YW1wIC0gbGFzdFRvdWNoRXZlbnQpIDwgNzUwKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdH07XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gMjYwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyoqXG5cdCAqIENvcHlyaWdodCAyMDEzLTIwMTQgRmFjZWJvb2ssIEluYy5cblx0ICpcblx0ICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcblx0ICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuXHQgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcblx0ICpcblx0ICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cdCAqXG5cdCAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcblx0ICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuXHQgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cblx0ICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuXHQgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblx0ICpcblx0ICogQHByb3ZpZGVzTW9kdWxlIFRhcEV2ZW50UGx1Z2luXG5cdCAqIEB0eXBlY2hlY2tzIHN0YXRpYy1vbmx5XG5cdCAqL1xuXHRcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHR2YXIgRXZlbnRDb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KTtcblx0dmFyIEV2ZW50UGx1Z2luVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTtcblx0dmFyIEV2ZW50UHJvcGFnYXRvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KTtcblx0dmFyIFN5bnRoZXRpY1VJRXZlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3KTtcblx0dmFyIFRvdWNoRXZlbnRVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMjYxKTtcblx0dmFyIFZpZXdwb3J0TWV0cmljcyA9IF9fd2VicGFja19yZXF1aXJlX18oNjgpO1xuXHRcblx0dmFyIGtleU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNjIpO1xuXHR2YXIgdG9wTGV2ZWxUeXBlcyA9IEV2ZW50Q29uc3RhbnRzLnRvcExldmVsVHlwZXM7XG5cdFxuXHR2YXIgaXNTdGFydGlzaCA9IEV2ZW50UGx1Z2luVXRpbHMuaXNTdGFydGlzaDtcblx0dmFyIGlzRW5kaXNoID0gRXZlbnRQbHVnaW5VdGlscy5pc0VuZGlzaDtcblx0XG5cdHZhciBpc1RvdWNoID0gZnVuY3Rpb24odG9wTGV2ZWxUeXBlKSB7XG5cdCAgdmFyIHRvdWNoVHlwZXMgPSBbXG5cdCAgICB0b3BMZXZlbFR5cGVzLnRvcFRvdWNoQ2FuY2VsLFxuXHQgICAgdG9wTGV2ZWxUeXBlcy50b3BUb3VjaEVuZCxcblx0ICAgIHRvcExldmVsVHlwZXMudG9wVG91Y2hTdGFydCxcblx0ICAgIHRvcExldmVsVHlwZXMudG9wVG91Y2hNb3ZlXG5cdCAgXTtcblx0ICByZXR1cm4gdG91Y2hUeXBlcy5pbmRleE9mKHRvcExldmVsVHlwZSkgPj0gMDtcblx0fVxuXHRcblx0LyoqXG5cdCAqIE51bWJlciBvZiBwaXhlbHMgdGhhdCBhcmUgdG9sZXJhdGVkIGluIGJldHdlZW4gYSBgdG91Y2hTdGFydGAgYW5kIGB0b3VjaEVuZGBcblx0ICogaW4gb3JkZXIgdG8gc3RpbGwgYmUgY29uc2lkZXJlZCBhICd0YXAnIGV2ZW50LlxuXHQgKi9cblx0dmFyIHRhcE1vdmVUaHJlc2hvbGQgPSAxMDtcblx0dmFyIGlnbm9yZU1vdXNlVGhyZXNob2xkID0gNzUwO1xuXHR2YXIgc3RhcnRDb29yZHMgPSB7eDogbnVsbCwgeTogbnVsbH07XG5cdHZhciBsYXN0VG91Y2hFdmVudCA9IG51bGw7XG5cdFxuXHR2YXIgQXhpcyA9IHtcblx0ICB4OiB7cGFnZTogJ3BhZ2VYJywgY2xpZW50OiAnY2xpZW50WCcsIGVudlNjcm9sbDogJ2N1cnJlbnRQYWdlU2Nyb2xsTGVmdCd9LFxuXHQgIHk6IHtwYWdlOiAncGFnZVknLCBjbGllbnQ6ICdjbGllbnRZJywgZW52U2Nyb2xsOiAnY3VycmVudFBhZ2VTY3JvbGxUb3AnfVxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gZ2V0QXhpc0Nvb3JkT2ZFdmVudChheGlzLCBuYXRpdmVFdmVudCkge1xuXHQgIHZhciBzaW5nbGVUb3VjaCA9IFRvdWNoRXZlbnRVdGlscy5leHRyYWN0U2luZ2xlVG91Y2gobmF0aXZlRXZlbnQpO1xuXHQgIGlmIChzaW5nbGVUb3VjaCkge1xuXHQgICAgcmV0dXJuIHNpbmdsZVRvdWNoW2F4aXMucGFnZV07XG5cdCAgfVxuXHQgIHJldHVybiBheGlzLnBhZ2UgaW4gbmF0aXZlRXZlbnQgP1xuXHQgICAgbmF0aXZlRXZlbnRbYXhpcy5wYWdlXSA6XG5cdCAgICBuYXRpdmVFdmVudFtheGlzLmNsaWVudF0gKyBWaWV3cG9ydE1ldHJpY3NbYXhpcy5lbnZTY3JvbGxdO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXREaXN0YW5jZShjb29yZHMsIG5hdGl2ZUV2ZW50KSB7XG5cdCAgdmFyIHBhZ2VYID0gZ2V0QXhpc0Nvb3JkT2ZFdmVudChBeGlzLngsIG5hdGl2ZUV2ZW50KTtcblx0ICB2YXIgcGFnZVkgPSBnZXRBeGlzQ29vcmRPZkV2ZW50KEF4aXMueSwgbmF0aXZlRXZlbnQpO1xuXHQgIHJldHVybiBNYXRoLnBvdyhcblx0ICAgIE1hdGgucG93KHBhZ2VYIC0gY29vcmRzLngsIDIpICsgTWF0aC5wb3cocGFnZVkgLSBjb29yZHMueSwgMiksXG5cdCAgICAwLjVcblx0ICApO1xuXHR9XG5cdFxuXHR2YXIgdG91Y2hFdmVudHMgPSBbXG5cdCAgdG9wTGV2ZWxUeXBlcy50b3BUb3VjaFN0YXJ0LFxuXHQgIHRvcExldmVsVHlwZXMudG9wVG91Y2hDYW5jZWwsXG5cdCAgdG9wTGV2ZWxUeXBlcy50b3BUb3VjaEVuZCxcblx0ICB0b3BMZXZlbFR5cGVzLnRvcFRvdWNoTW92ZSxcblx0XTtcblx0XG5cdHZhciBkZXBlbmRlbmNpZXMgPSBbXG5cdCAgdG9wTGV2ZWxUeXBlcy50b3BNb3VzZURvd24sXG5cdCAgdG9wTGV2ZWxUeXBlcy50b3BNb3VzZU1vdmUsXG5cdCAgdG9wTGV2ZWxUeXBlcy50b3BNb3VzZVVwLFxuXHRdLmNvbmNhdCh0b3VjaEV2ZW50cyk7XG5cdFxuXHR2YXIgZXZlbnRUeXBlcyA9IHtcblx0ICB0b3VjaFRhcDoge1xuXHQgICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcblx0ICAgICAgYnViYmxlZDoga2V5T2Yoe29uVG91Y2hUYXA6IG51bGx9KSxcblx0ICAgICAgY2FwdHVyZWQ6IGtleU9mKHtvblRvdWNoVGFwQ2FwdHVyZTogbnVsbH0pXG5cdCAgICB9LFxuXHQgICAgZGVwZW5kZW5jaWVzOiBkZXBlbmRlbmNpZXNcblx0ICB9XG5cdH07XG5cdFxuXHR2YXIgbm93ID0gKGZ1bmN0aW9uKCkge1xuXHQgIGlmIChEYXRlLm5vdykge1xuXHQgICAgcmV0dXJuIERhdGUubm93O1xuXHQgIH0gZWxzZSB7XG5cdCAgICAvLyBJRTggc3VwcG9ydDogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy85NDMwMzU3L3BsZWFzZS1leHBsYWluLXdoeS1hbmQtaG93LW5ldy1kYXRlLXdvcmtzLWFzLXdvcmthcm91bmQtZm9yLWRhdGUtbm93LWluXG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gK25ldyBEYXRlO1xuXHQgICAgfVxuXHQgIH1cblx0fSkoKTtcblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZVRhcEV2ZW50UGx1Z2luKHNob3VsZFJlamVjdENsaWNrKSB7XG5cdCAgcmV0dXJuIHtcblx0XG5cdCAgICB0YXBNb3ZlVGhyZXNob2xkOiB0YXBNb3ZlVGhyZXNob2xkLFxuXHRcblx0ICAgIGlnbm9yZU1vdXNlVGhyZXNob2xkOiBpZ25vcmVNb3VzZVRocmVzaG9sZCxcblx0XG5cdCAgICBldmVudFR5cGVzOiBldmVudFR5cGVzLFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IHRvcExldmVsVHlwZSBSZWNvcmQgZnJvbSBgRXZlbnRDb25zdGFudHNgLlxuXHQgICAgICogQHBhcmFtIHtET01FdmVudFRhcmdldH0gdGFyZ2V0SW5zdCBUaGUgbGlzdGVuaW5nIGNvbXBvbmVudCByb290IG5vZGUuXG5cdCAgICAgKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG5cdCAgICAgKiBAcmV0dXJuIHsqfSBBbiBhY2N1bXVsYXRpb24gb2Ygc3ludGhldGljIGV2ZW50cy5cblx0ICAgICAqIEBzZWUge0V2ZW50UGx1Z2luSHViLmV4dHJhY3RFdmVudHN9XG5cdCAgICAgKi9cblx0ICAgIGV4dHJhY3RFdmVudHM6IGZ1bmN0aW9uKFxuXHQgICAgICB0b3BMZXZlbFR5cGUsXG5cdCAgICAgIHRhcmdldEluc3QsXG5cdCAgICAgIG5hdGl2ZUV2ZW50LFxuXHQgICAgICBuYXRpdmVFdmVudFRhcmdldFxuXHQgICAgKSB7XG5cdFxuXHQgICAgICBpZiAoaXNUb3VjaCh0b3BMZXZlbFR5cGUpKSB7XG5cdCAgICAgICAgbGFzdFRvdWNoRXZlbnQgPSBub3coKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBpZiAoc2hvdWxkUmVqZWN0Q2xpY2sobGFzdFRvdWNoRXZlbnQsIG5vdygpKSkge1xuXHQgICAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoIWlzU3RhcnRpc2godG9wTGV2ZWxUeXBlKSAmJiAhaXNFbmRpc2godG9wTGV2ZWxUeXBlKSkge1xuXHQgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBldmVudCA9IG51bGw7XG5cdCAgICAgIHZhciBkaXN0YW5jZSA9IGdldERpc3RhbmNlKHN0YXJ0Q29vcmRzLCBuYXRpdmVFdmVudCk7XG5cdCAgICAgIGlmIChpc0VuZGlzaCh0b3BMZXZlbFR5cGUpICYmIGRpc3RhbmNlIDwgdGFwTW92ZVRocmVzaG9sZCkge1xuXHQgICAgICAgIGV2ZW50ID0gU3ludGhldGljVUlFdmVudC5nZXRQb29sZWQoXG5cdCAgICAgICAgICBldmVudFR5cGVzLnRvdWNoVGFwLFxuXHQgICAgICAgICAgdGFyZ2V0SW5zdCxcblx0ICAgICAgICAgIG5hdGl2ZUV2ZW50LFxuXHQgICAgICAgICAgbmF0aXZlRXZlbnRUYXJnZXRcblx0ICAgICAgICApO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChpc1N0YXJ0aXNoKHRvcExldmVsVHlwZSkpIHtcblx0ICAgICAgICBzdGFydENvb3Jkcy54ID0gZ2V0QXhpc0Nvb3JkT2ZFdmVudChBeGlzLngsIG5hdGl2ZUV2ZW50KTtcblx0ICAgICAgICBzdGFydENvb3Jkcy55ID0gZ2V0QXhpc0Nvb3JkT2ZFdmVudChBeGlzLnksIG5hdGl2ZUV2ZW50KTtcblx0ICAgICAgfSBlbHNlIGlmIChpc0VuZGlzaCh0b3BMZXZlbFR5cGUpKSB7XG5cdCAgICAgICAgc3RhcnRDb29yZHMueCA9IDA7XG5cdCAgICAgICAgc3RhcnRDb29yZHMueSA9IDA7XG5cdCAgICAgIH1cblx0ICAgICAgRXZlbnRQcm9wYWdhdG9ycy5hY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGV2ZW50KTtcblx0ICAgICAgcmV0dXJuIGV2ZW50O1xuXHQgICAgfVxuXHRcblx0ICB9O1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZVRhcEV2ZW50UGx1Z2luO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDI2MTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qKlxuXHQgKiBDb3B5cmlnaHQgMjAxMy0yMDE0IEZhY2Vib29rLCBJbmMuXG5cdCAqXG5cdCAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG5cdCAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cblx0ICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cdCAqXG5cdCAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuXHQgKlxuXHQgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG5cdCAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcblx0ICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG5cdCAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcblx0ICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cdCAqXG5cdCAqIEBwcm92aWRlc01vZHVsZSBUb3VjaEV2ZW50VXRpbHNcblx0ICovXG5cdFxuXHR2YXIgVG91Y2hFdmVudFV0aWxzID0ge1xuXHQgIC8qKlxuXHQgICAqIFV0aWxpdHkgZnVuY3Rpb24gZm9yIGNvbW1vbiBjYXNlIG9mIGV4dHJhY3Rpbmcgb3V0IHRoZSBwcmltYXJ5IHRvdWNoIGZyb20gYVxuXHQgICAqIHRvdWNoIGV2ZW50LlxuXHQgICAqIC0gYHRvdWNoRW5kYCBldmVudHMgdXN1YWxseSBkbyBub3QgaGF2ZSB0aGUgYHRvdWNoZXNgIHByb3BlcnR5LlxuXHQgICAqICAgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNjY2OTI5L1xuXHQgICAqICAgbW9iaWxlLXNhcmFpLXRvdWNoZW5kLWV2ZW50LW5vdC1maXJpbmctd2hlbi1sYXN0LXRvdWNoLWlzLXJlbW92ZWRcblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7RXZlbnR9IG5hdGl2ZUV2ZW50IE5hdGl2ZSBldmVudCB0aGF0IG1heSBvciBtYXkgbm90IGJlIGEgdG91Y2guXG5cdCAgICogQHJldHVybiB7VG91Y2hlc09iamVjdD99IGFuIG9iamVjdCB3aXRoIHBhZ2VYIGFuZCBwYWdlWSBvciBudWxsLlxuXHQgICAqL1xuXHQgIGV4dHJhY3RTaW5nbGVUb3VjaDogZnVuY3Rpb24obmF0aXZlRXZlbnQpIHtcblx0ICAgIHZhciB0b3VjaGVzID0gbmF0aXZlRXZlbnQudG91Y2hlcztcblx0ICAgIHZhciBjaGFuZ2VkVG91Y2hlcyA9IG5hdGl2ZUV2ZW50LmNoYW5nZWRUb3VjaGVzO1xuXHQgICAgdmFyIGhhc1RvdWNoZXMgPSB0b3VjaGVzICYmIHRvdWNoZXMubGVuZ3RoID4gMDtcblx0ICAgIHZhciBoYXNDaGFuZ2VkVG91Y2hlcyA9IGNoYW5nZWRUb3VjaGVzICYmIGNoYW5nZWRUb3VjaGVzLmxlbmd0aCA+IDA7XG5cdFxuXHQgICAgcmV0dXJuICFoYXNUb3VjaGVzICYmIGhhc0NoYW5nZWRUb3VjaGVzID8gY2hhbmdlZFRvdWNoZXNbMF0gOlxuXHQgICAgICAgICAgIGhhc1RvdWNoZXMgPyB0b3VjaGVzWzBdIDpcblx0ICAgICAgICAgICBuYXRpdmVFdmVudDtcblx0ICB9XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IFRvdWNoRXZlbnRVdGlscztcblxuXG4vKioqLyB9LFxuXG4vKioqLyAyNjI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cblx0ICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cblx0ICpcblx0ICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG5cdCAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuXHQgKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cblx0ICpcblx0ICogQHByb3ZpZGVzTW9kdWxlIGtleU9mXG5cdCAqL1xuXHRcblx0LyoqXG5cdCAqIEFsbG93cyBleHRyYWN0aW9uIG9mIGEgbWluaWZpZWQga2V5LiBMZXQncyB0aGUgYnVpbGQgc3lzdGVtIG1pbmlmeSBrZXlzXG5cdCAqIHdpdGhvdXQgbG9zaW5nIHRoZSBhYmlsaXR5IHRvIGR5bmFtaWNhbGx5IHVzZSBrZXkgc3RyaW5ncyBhcyB2YWx1ZXNcblx0ICogdGhlbXNlbHZlcy4gUGFzcyBpbiBhbiBvYmplY3Qgd2l0aCBhIHNpbmdsZSBrZXkvdmFsIHBhaXIgYW5kIGl0IHdpbGwgcmV0dXJuXG5cdCAqIHlvdSB0aGUgc3RyaW5nIGtleSBvZiB0aGF0IHNpbmdsZSByZWNvcmQuIFN1cHBvc2UgeW91IHdhbnQgdG8gZ3JhYiB0aGVcblx0ICogdmFsdWUgZm9yIGEga2V5ICdjbGFzc05hbWUnIGluc2lkZSBvZiBhbiBvYmplY3QuIEtleS92YWwgbWluaWZpY2F0aW9uIG1heVxuXHQgKiBoYXZlIGFsaWFzZWQgdGhhdCBrZXkgdG8gYmUgJ3hhMTInLiBrZXlPZih7Y2xhc3NOYW1lOiBudWxsfSkgd2lsbCByZXR1cm5cblx0ICogJ3hhMTInIGluIHRoYXQgY2FzZS4gUmVzb2x2ZSBrZXlzIHlvdSB3YW50IHRvIHVzZSBvbmNlIGF0IHN0YXJ0dXAgdGltZSwgdGhlblxuXHQgKiByZXVzZSB0aG9zZSByZXNvbHV0aW9ucy5cblx0ICovXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0dmFyIGtleU9mID0gZnVuY3Rpb24gKG9uZUtleU9iaikge1xuXHQgIHZhciBrZXk7XG5cdCAgZm9yIChrZXkgaW4gb25lS2V5T2JqKSB7XG5cdCAgICBpZiAoIW9uZUtleU9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdCAgICAgIGNvbnRpbnVlO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGtleTtcblx0ICB9XG5cdCAgcmV0dXJuIG51bGw7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGtleU9mO1xuXG4vKioqLyB9LFxuXG4vKioqLyAyNjM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0Um91dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODgpO1xuXHRcblx0dmFyIF9yZWFjdFJlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzkpO1xuXHRcblx0dmFyIF9hZGRUb2RvID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNjQpO1xuXHRcblx0dmFyIF9hZGRUb2RvMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FkZFRvZG8pO1xuXHRcblx0dmFyIF90b2RvTGlzdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjY1KTtcblx0XG5cdHZhciBfdG9kb0xpc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdG9kb0xpc3QpO1xuXHRcblx0dmFyIF90b2RvU3RhdHVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNjcpO1xuXHRcblx0dmFyIF90b2RvU3RhdHVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvZG9TdGF0dXMpO1xuXHRcblx0dmFyIF9mb290ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2OSk7XG5cdFxuXHR2YXIgX2Zvb3RlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mb290ZXIpO1xuXHRcblx0dmFyIF9wYWdlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNzApO1xuXHRcblx0dmFyIF9wYWdlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BhZ2UpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIEFsbCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICBfaW5oZXJpdHMoQWxsLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBBbGwoKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFsbCk7XG5cdFxuXHQgICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQWxsKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoQWxsLCBbe1xuXHQgICAgICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICAgICAgdmFyIHRvZG9zID0gdGhpcy5wcm9wcy50b2Rvcztcblx0XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgIF9wYWdlMi5kZWZhdWx0LFxuXHQgICAgICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9hZGRUb2RvMi5kZWZhdWx0LCBudWxsKSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF90b2RvU3RhdHVzMi5kZWZhdWx0LCB7IHRvZG9zOiB0b2RvcyB9KSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF90b2RvTGlzdDIuZGVmYXVsdCwgeyB0b2RvczogdG9kb3MgfSksXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZm9vdGVyMi5kZWZhdWx0LCB7IHRvZG9zOiB0b2RvcyB9KVxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblx0XG5cdCAgICByZXR1cm4gQWxsO1xuXHR9KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9yZWFjdFJvdXRlci53aXRoUm91dGVyKSgoMCwgX3JlYWN0UmVkdXguY29ubmVjdCkoZnVuY3Rpb24gKHN0YXRlKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIHRvZG9zOiBzdGF0ZS50b2Rvc1xuXHQgICAgfTtcblx0fSkoQWxsKSk7XG5cbi8qKiovIH0sXG5cbi8qKiovIDI2NDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3RSZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oMTc5KTtcblx0XG5cdHZhciBfdG9kb3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1NCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgQWRkVG9kbyA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICBfaW5oZXJpdHMoQWRkVG9kbywgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gQWRkVG9kbygpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWRkVG9kbyk7XG5cdFxuXHQgICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQWRkVG9kbykuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKEFkZFRvZG8sIFt7XG5cdCAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbE1vdW50Jyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuXHQgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKDEyMzQpO1xuXHQgICAgICAgICAgICB9LCAxMDAwKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZ2V0SW5wdXRWYWx1ZScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldElucHV0VmFsdWUoZSkge1xuXHQgICAgICAgICAgICB2YXIgdmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcblx0ICAgICAgICAgICAgdmFyIGRpc3BhdGNoID0gdGhpcy5wcm9wcy5kaXNwYXRjaDtcblx0XG5cdCAgICAgICAgICAgIGRpc3BhdGNoKCgwLCBfdG9kb3Muc2F2ZUlucHV0KSh2YWx1ZSkpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdhZGRMaXN0Jyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkTGlzdChlKSB7XG5cdCAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICAgICAgICAgIHZhciBkaXNwYXRjaCA9IF9wcm9wcy5kaXNwYXRjaDtcblx0ICAgICAgICAgICAgdmFyIGlucHV0ID0gX3Byb3BzLmlucHV0O1xuXHRcblx0ICAgICAgICAgICAgaWYgKHRoaXMucmVmcy5pbnB1dC52YWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgZGlzcGF0Y2goKDAsIF90b2Rvcy5hZGRUb2RvKShpbnB1dCkpO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5yZWZzLmlucHV0LnZhbHVlID0gJyc7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAncmVuZGVyJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdoZWFkZXInLFxuXHQgICAgICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdmb3JtJyxcblx0ICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2Zvcm0taG9yaXpvbnRhbCcsIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdChlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmFkZExpc3QoZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gfSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnZm9ybS1ncm91cCcgfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnY29sLW1kLTMgY29sLXhzLTknIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgY2xhc3NOYW1lOiAnZm9ybS1jb250cm9sJywgcmVmOiAnaW5wdXQnLCBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmdldElucHV0VmFsdWUoZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9KVxuXHQgICAgICAgICAgICAgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdjb2wtbWQtMyBjb2wteHMtMycgfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdidXR0b24nLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdHlwZTogJ3N1Ym1pdCcsIGNsYXNzTmFtZTogJ2J0biBidG4tZGVmYXVsdCcgfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYWRkJ1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblx0XG5cdCAgICByZXR1cm4gQWRkVG9kbztcblx0fShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfcmVhY3RSZWR1eC5jb25uZWN0KShmdW5jdGlvbiAoc3RhdGUpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgaW5wdXQ6IHN0YXRlLmlucHV0XG5cdCAgICB9O1xuXHR9KShBZGRUb2RvKTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMjY1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3RSZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oMTc5KTtcblx0XG5cdHZhciBfdG9kbyA9IF9fd2VicGFja19yZXF1aXJlX18oMjY2KTtcblx0XG5cdHZhciBfdG9kbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90b2RvKTtcblx0XG5cdHZhciBfdG9kb3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1NCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgVG9kb0xpc3QgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICAgX2luaGVyaXRzKFRvZG9MaXN0LCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBUb2RvTGlzdCgpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVG9kb0xpc3QpO1xuXHRcblx0ICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgT2JqZWN0LmdldFByb3RvdHlwZU9mKFRvZG9MaXN0KS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoVG9kb0xpc3QsIFt7XG5cdCAgICAgICAga2V5OiAnb25Ub2dnbGVDbGljaycsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uVG9nZ2xlQ2xpY2soaWQpIHtcblx0ICAgICAgICAgICAgdmFyIGRpc3BhdGNoID0gdGhpcy5wcm9wcy5kaXNwYXRjaDtcblx0XG5cdCAgICAgICAgICAgIGRpc3BhdGNoKCgwLCBfdG9kb3MudG9nZ2xlVG9kbykoaWQpKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnb25EZWxldGVDbGljaycsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uRGVsZXRlQ2xpY2soaWQpIHtcblx0ICAgICAgICAgICAgdmFyIGRpc3BhdGNoID0gdGhpcy5wcm9wcy5kaXNwYXRjaDtcblx0XG5cdCAgICAgICAgICAgIGRpc3BhdGNoKCgwLCBfdG9kb3MuZGVsZXRlVG9kbykoaWQpKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAncmVuZGVyJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgICAgICAgICB2YXIgdG9kb3MgPSBfcHJvcHMudG9kb3M7XG5cdCAgICAgICAgICAgIHZhciBmaWx0ZXJOYW1lID0gX3Byb3BzLmZpbHRlck5hbWU7XG5cdFxuXHRcblx0ICAgICAgICAgICAgdmFyIHZpc2liZWxUb2RvcyA9IGZ1bmN0aW9uIHZpc2liZWxUb2Rvcyh0b2RvcywgZmlsdGVyTmFtZSkge1xuXHQgICAgICAgICAgICAgICAgc3dpdGNoIChmaWx0ZXJOYW1lKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY2FzZSAnQUxMJzpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvZG9zO1xuXHQgICAgICAgICAgICAgICAgICAgIGNhc2UgJ0NPTVBMRVRFRCc6XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2Rvcy5maWx0ZXIoZnVuY3Rpb24gKHQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0LmNvbXBsZXRlZDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICAgICAgY2FzZSAnQUNUSVZFJzpcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvZG9zLmZpbHRlcihmdW5jdGlvbiAodCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICF0LmNvbXBsZXRlZDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICd1bCcsXG5cdCAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2xpc3QtZ3JvdXAnIH0sXG5cdCAgICAgICAgICAgICAgICB2aXNpYmVsVG9kb3ModG9kb3MsIGZpbHRlck5hbWUpLm1hcChmdW5jdGlvbiAodG9kbykge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfdG9kbzIuZGVmYXVsdCwgX2V4dGVuZHMoeyBrZXk6IHRvZG8uaWQgfSwgdG9kbywgeyB0b2dnbGVDbGljazogZnVuY3Rpb24gdG9nZ2xlQ2xpY2soKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLm9uVG9nZ2xlQ2xpY2sodG9kby5pZCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUNsaWNrOiBmdW5jdGlvbiBkZWxldGVDbGljaygpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIub25EZWxldGVDbGljayh0b2RvLmlkKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSB9KSk7XG5cdCAgICAgICAgICAgICAgICB9KVxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblx0XG5cdCAgICByZXR1cm4gVG9kb0xpc3Q7XG5cdH0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSAoMCwgX3JlYWN0UmVkdXguY29ubmVjdCkoZnVuY3Rpb24gKHN0YXRlKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIGZpbHRlck5hbWU6IHN0YXRlLmZpbHRlck5hbWVcblx0ICAgIH07XG5cdH0pKFRvZG9MaXN0KTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMjY2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdFJlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzkpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIFRvZG8gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICAgX2luaGVyaXRzKFRvZG8sIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIFRvZG8oKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRvZG8pO1xuXHRcblx0ICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgT2JqZWN0LmdldFByb3RvdHlwZU9mKFRvZG8pLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhUb2RvLCBbe1xuXHQgICAgICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICAgICAgICAgIHZhciB0b2dnbGVDbGljayA9IF9wcm9wcy50b2dnbGVDbGljaztcblx0ICAgICAgICAgICAgdmFyIGRlbGV0ZUNsaWNrID0gX3Byb3BzLmRlbGV0ZUNsaWNrO1xuXHQgICAgICAgICAgICB2YXIgdGV4dCA9IF9wcm9wcy50ZXh0O1xuXHQgICAgICAgICAgICB2YXIgY29tcGxldGVkID0gX3Byb3BzLmNvbXBsZXRlZDtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdsaScsXG5cdCAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2xpc3QtZ3JvdXAtaXRlbScsIHN0eWxlOiB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRleHREZWNvcmF0aW9uOiBjb21wbGV0ZWQgPyAnbGluZS10aHJvdWdoJyA6ICdub25lJ1xuXHQgICAgICAgICAgICAgICAgICAgIH0gfSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHsgdHlwZTogJ2NoZWNrYm94JywgY2hlY2tlZDogY29tcGxldGVkLCBvbkNoYW5nZTogdG9nZ2xlQ2xpY2sgfSksXG5cdCAgICAgICAgICAgICAgICAnwqAnLFxuXHQgICAgICAgICAgICAgICAgdGV4dCxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdidXR0b24nLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnYnRuIGJ0bi14cyBwdWxsLXJpZ2h0IGJ0bi1kZWZhdWx0JywgdHlwZTogJ2J1dHRvbicsIG9uQ2xpY2s6IGRlbGV0ZUNsaWNrIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgJ+WIoOmZpCdcblx0ICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIFRvZG87XG5cdH0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBUb2RvO1xuXG4vKioqLyB9LFxuXG4vKioqLyAyNjc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0UmVkdXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3OSk7XG5cdFxuXHR2YXIgX2ZpbHRlckxpbmsgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2OCk7XG5cdFxuXHR2YXIgX2ZpbHRlckxpbmsyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZmlsdGVyTGluayk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgVG9kb1N0YXR1cyA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICBfaW5oZXJpdHMoVG9kb1N0YXR1cywgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gVG9kb1N0YXR1cygpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVG9kb1N0YXR1cyk7XG5cdFxuXHQgICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVG9kb1N0YXR1cykuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKFRvZG9TdGF0dXMsIFt7XG5cdCAgICAgICAga2V5OiAnc2V0VmlzaWJsZUZpbHRlcicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFZpc2libGVGaWx0ZXIob3duUHJvcHMpIHtcblx0ICAgICAgICAgICAgdmFyIGRpc3BhdGNoID0gdGhpcy5wcm9wcy5kaXNwYXRjaDtcblx0XG5cdCAgICAgICAgICAgIGRpc3BhdGNoKHNldEZpbHRlcihvd25Qcm9wcy5maWx0ZXIpKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAncmVuZGVyJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgICAgICB2YXIgdG9kb3MgPSB0aGlzLnByb3BzLnRvZG9zO1xuXHRcblx0ICAgICAgICAgICAgdmFyIGFsbCA9IHRvZG9zLmxlbmd0aDtcblx0ICAgICAgICAgICAgdmFyIGFjdGl2ZSA9IHRvZG9zLmZpbHRlcihmdW5jdGlvbiAodG9kbykge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuICF0b2RvLmNvbXBsZXRlZDtcblx0ICAgICAgICAgICAgfSkubGVuZ3RoO1xuXHQgICAgICAgICAgICB2YXIgY29tcGxldGVkID0gdG9kb3MuZmlsdGVyKGZ1bmN0aW9uICh0b2RvKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdG9kby5jb21wbGV0ZWQ7XG5cdCAgICAgICAgICAgIH0pLmxlbmd0aDtcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ3NlY3Rpb24nLFxuXHQgICAgICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICd1bCcsXG5cdCAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICduYXYgbmF2LXRhYnMnLCByb2xlOiAndGFibGlzdCcgfSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgX2ZpbHRlckxpbmsyLmRlZmF1bHQsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHsgZmlsdGVyOiAnQUxMJywgbnVtOiBhbGwgfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgJ+WFqOmDqCdcblx0ICAgICAgICAgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBfZmlsdGVyTGluazIuZGVmYXVsdCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgeyBmaWx0ZXI6ICdBQ1RJVkUnLCBudW06IGFjdGl2ZSB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAn6L+b6KGM5LitJ1xuXHQgICAgICAgICAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIF9maWx0ZXJMaW5rMi5kZWZhdWx0LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB7IGZpbHRlcjogJ0NPTVBMRVRFRCcsIG51bTogY29tcGxldGVkIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICflt7LlrozmiJAnXG5cdCAgICAgICAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdicicsIG51bGwpXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBUb2RvU3RhdHVzO1xuXHR9KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9yZWFjdFJlZHV4LmNvbm5lY3QpKCkoVG9kb1N0YXR1cyk7XG5cbi8qKiovIH0sXG5cbi8qKiovIDI2ODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3RSZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oMTc5KTtcblx0XG5cdHZhciBfc2V0RmlsdGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNTYpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIEZpbHRlckxpbmsgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICAgX2luaGVyaXRzKEZpbHRlckxpbmssIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIEZpbHRlckxpbmsoKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZpbHRlckxpbmspO1xuXHRcblx0ICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgT2JqZWN0LmdldFByb3RvdHlwZU9mKEZpbHRlckxpbmspLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhGaWx0ZXJMaW5rLCBbe1xuXHQgICAgICAgIGtleTogJ3NldFZpc2libGVUeXBlJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VmlzaWJsZVR5cGUoZmlsdGVyKSB7XG5cdCAgICAgICAgICAgIHZhciBkaXNwYXRjaCA9IHRoaXMucHJvcHMuZGlzcGF0Y2g7XG5cdFxuXHQgICAgICAgICAgICBkaXNwYXRjaCgoMCwgX3NldEZpbHRlci5zZXRGaWx0ZXIpKGZpbHRlcikpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICAgICAgICAgIHZhciBmaWx0ZXIgPSBfcHJvcHMuZmlsdGVyO1xuXHQgICAgICAgICAgICB2YXIgZmlsdGVyTmFtZSA9IF9wcm9wcy5maWx0ZXJOYW1lO1xuXHQgICAgICAgICAgICB2YXIgbnVtID0gX3Byb3BzLm51bTtcblx0XG5cdCAgICAgICAgICAgIHZhciBhY3RpdmUgPSBmaWx0ZXIgPT09IGZpbHRlck5hbWU7XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdsaScsXG5cdCAgICAgICAgICAgICAgICB7IHJvbGU6ICdwcmVzZW50YXRpb24nLCBjbGFzc05hbWU6IGFjdGl2ZSA/ICdhY3RpdmUnIDogJycsIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuc2V0VmlzaWJsZVR5cGUoZmlsdGVyKTtcblx0ICAgICAgICAgICAgICAgICAgICB9IH0sXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnYScsXG5cdCAgICAgICAgICAgICAgICAgICAgeyBocmVmOiAnamF2YXNjcmlwdDp2b2lkKDApOycgfSxcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmNoaWxkcmVuLFxuXHQgICAgICAgICAgICAgICAgICAgICfCoCcsXG5cdCAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdiYWRnZScgfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbnVtXG5cdCAgICAgICAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblx0XG5cdCAgICByZXR1cm4gRmlsdGVyTGluaztcblx0fShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfcmVhY3RSZWR1eC5jb25uZWN0KShmdW5jdGlvbiAoc3RhdGUpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgZmlsdGVyTmFtZTogc3RhdGUuZmlsdGVyTmFtZVxuXHQgICAgfTtcblx0fSkoRmlsdGVyTGluayk7XG5cbi8qKiovIH0sXG5cbi8qKiovIDI2OTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3RSZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oMTc5KTtcblx0XG5cdHZhciBfdG9kb3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1NCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgRm9vdGVyID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgIF9pbmhlcml0cyhGb290ZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIEZvb3RlcigpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRm9vdGVyKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIE9iamVjdC5nZXRQcm90b3R5cGVPZihGb290ZXIpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhGb290ZXIsIFt7XG5cdCAgICAgICAga2V5OiAnY2xlYXJBbGwnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhckFsbCgpIHtcblx0ICAgICAgICAgICAgdmFyIGRpc3BhdGNoID0gdGhpcy5wcm9wcy5kaXNwYXRjaDtcblx0XG5cdCAgICAgICAgICAgIGRpc3BhdGNoKCgwLCBfdG9kb3MuY2xlYXJUb2RvKSgpKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAncmVuZGVyJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgICAgICAgIHZhciB0b2RvcyA9IHRoaXMucHJvcHMudG9kb3M7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAnZm9vdGVyJyxcblx0ICAgICAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ3JvdycgfSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnY29sLW1kLTEyJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICdidXR0b24nLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdidG4gYnRuLWRlZmF1bHQgYnRuLXhzIHB1bGwtcmlnaHQnLCBzdHlsZToge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB0b2Rvcy5sZW5ndGggPyAnYmxvY2snIDogJ25vbmUnXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5jbGVhckFsbCgpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICfmuIXnqbonXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBGb290ZXI7XG5cdH0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSAoMCwgX3JlYWN0UmVkdXguY29ubmVjdCkoKShGb290ZXIpO1xuXG4vKioqLyB9LFxuXG4vKioqLyAyNzA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0Um91dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODgpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIFBhZ2UgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICAgX2luaGVyaXRzKFBhZ2UsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIFBhZ2UoKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhZ2UpO1xuXHRcblx0ICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgT2JqZWN0LmdldFByb3RvdHlwZU9mKFBhZ2UpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhQYWdlLCBbe1xuXHQgICAgICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ3NlY3Rpb24nLFxuXHQgICAgICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICduYXYnLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnbmF2YmFyIG5hdmJhci1kZWZhdWx0JyB9LFxuXHQgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdjb250YWluZXItZmx1aWQnIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ25hdmJhci1oZWFkZXInIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYScsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICduYXZiYXItYnJhbmQnLCBocmVmOiAnIycgfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUmVhY3QgKyBSZWR1eCArIFdlYnBhY2sgKyBSZWR1eC1yb3V0ZXInXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdyb3cnIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJ2NvbC1tZC04IGNvbC1tZC1vZmZzZXQtMicgfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlblxuXHQgICAgICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIFBhZ2U7XG5cdH0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSAoMCwgX3JlYWN0Um91dGVyLndpdGhSb3V0ZXIpKFBhZ2UpO1xuXG4vKioqLyB9XG5cbn0pO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIG1vZHVsZS4yZmY4ZjIuanNcbiAqKi8iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RG9tIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgeyBSb3V0ZXIsIGJyb3dzZXJIaXN0b3J5LCBoYXNoSGlzdG9yeSB9IGZyb20gJ3JlYWN0LXJvdXRlcic7XG5pbXBvcnQgcm91dGVyIGZyb20gJy4vcm91dGVyJztcblxuLy9pbXBvcnQgeyBSb3V0ZXIsIHVzZVJvdXRlckhpc3RvcnkgfSBmcm9tICdyZWFjdC1yb3V0ZXInXG4vL2ltcG9ydCB7IGNyZWF0ZUhhc2hIaXN0b3J5IH0gZnJvbSAnaGlzdG9yeSdcbi8vIHVzZVJvdXRlckhpc3RvcnkgY3JlYXRlcyBhIGNvbXBvc2FibGUgaGlnaGVyLW9yZGVyIGZ1bmN0aW9uXG4vL2NvbnN0IGFwcEhpc3RvcnkgPSB1c2VSb3V0ZXJIaXN0b3J5KGNyZWF0ZUhhc2hIaXN0b3J5KSh7IHF1ZXJ5S2V5OiBmYWxzZSB9KVxuXG5SZWFjdERvbS5yZW5kZXIoPFJvdXRlciBoaXN0b3J5PXtoYXNoSGlzdG9yeX0+e3JvdXRlcn08L1JvdXRlcj4sIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50JykpO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9tb2R1bGUuanNcbiAqKi8iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUm91dGUsIEluZGV4Um91dGUgfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xuXG5pbXBvcnQgTWFpbiBmcm9tICcuL2NvbXBvbmVudHMvbWFpbi5qc3gnO1xuaW1wb3J0IEFsbCBmcm9tICcuL2NvbXBvbmVudHMvYWxsLmpzeCc7XG5cbmNvbnN0IHJvdXRlciA9IChcbiAgICA8Um91dGUgcGF0aD1cIi9cIiBjb21wb25lbnQ9e01haW59PlxuICAgICAgICA8SW5kZXhSb3V0ZSBjb21wb25lbnQ9e0FsbH0+PC9JbmRleFJvdXRlPlxuICAgICAgICA8Um91dGUgcGF0aD1cIi9hbGxcIiBjb21wb25lbnQ9e0FsbH0+PC9Sb3V0ZT5cbiAgICAgICAgPFJvdXRlIHBhdGg9XCIqXCIgY29tcG9uZW50PXtBbGx9PjwvUm91dGU+XG4gICAgPC9Sb3V0ZT5cbilcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3JvdXRlci5qc1xuICoqLyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IGNyZWF0ZVN0b3JlLCBhcHBseU1pZGRsZXdhcmUgfSBmcm9tICdyZWR1eCc7XG5pbXBvcnQgdGh1bmsgZnJvbSAncmVkdXgtdGh1bmsnO1xuaW1wb3J0IHJlZHVjZXJzIGZyb20gJy4uL3JlZHVjZXJzL3JlZHVjZXJzJztcbmxldCB0aHVua1N0b3JlID0gYXBwbHlNaWRkbGV3YXJlKHRodW5rKShjcmVhdGVTdG9yZSk7XG5sZXQgc3RvcmUgPSB0aHVua1N0b3JlKHJlZHVjZXJzKTtcbmltcG9ydCByZWFjdFRhcEV2ZW50IGZyb20gJ3JlYWN0LXRhcC1ldmVudC1wbHVnaW4nO1xucmVhY3RUYXBFdmVudCgpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50e1xuICAgIHJlbmRlcigpe1xuICAgICAgICByZXR1cm4oXG4gICAgICAgICAgICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlfT5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgICAgIDwvUHJvdmlkZXI+XG4gICAgICAgIClcbiAgICB9XG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9jb21wb25lbnRzL21haW4uanN4XG4gKiovIiwiaW1wb3J0IHsgY29tYmluZVJlZHVjZXJzIH0gZnJvbSAncmVkdXgnO1xuaW1wb3J0IHsgdG9kb3MsaW5wdXQgfSBmcm9tICcuL3RvZG9zJztcbmltcG9ydCB7IGZpbHRlck5hbWUgfSBmcm9tICcuL3NldEZpbHRlcic7XG5cbmNvbnN0IHJlZHVjZXJzID0gY29tYmluZVJlZHVjZXJzKHtcbiAgICB0b2RvcyxcbiAgICBpbnB1dCxcbiAgICBmaWx0ZXJOYW1lXG59KTtcbmV4cG9ydCBkZWZhdWx0IHJlZHVjZXJzO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vcmVkdWNlcnMvcmVkdWNlcnMuanNcbiAqKi8iLCJpbXBvcnQgeyBTQVZFX0lOUFVULEFERF9UT0RPLFRPR0dMRV9UT0RPLERFTEVURV9UT0RPLEZJTFRFUl9UT0RPLENMRUFSX1RPRE8gfSBmcm9tICcuLi9hY3Rpb25zL3RvZG9zJztcblxuZnVuY3Rpb24gdG9kbyhzdGF0ZSxhY3Rpb24pIHs7XG4gICAgc3dpdGNoKGFjdGlvbi50eXBlKXtcbiAgICAgICAgY2FzZSBBRERfVE9ETzpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaWQ6IGFjdGlvbi5pZCxcbiAgICAgICAgICAgICAgICB0ZXh0OiBhY3Rpb24udmFsdWUsXG4gICAgICAgICAgICAgICAgY29tcGxldGVkOiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlIFRPR0dMRV9UT0RPOlxuICAgICAgICAgICAgaWYoc3RhdGUuaWQgIT09IGFjdGlvbi5pZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LHN0YXRlLHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWQ6ICFzdGF0ZS5jb21wbGV0ZWRcbiAgICAgICAgICAgIH0pXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnB1dChzdGF0ZT0nJyxhY3Rpb24pIHtcbiAgICBzd2l0Y2goYWN0aW9uLnR5cGUpe1xuICAgICAgICBjYXNlIFNBVkVfSU5QVVQ6XG4gICAgICAgICAgICByZXR1cm4gYWN0aW9uLnZhbHVlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvZG9zKHN0YXRlPVtdLGFjdGlvbikge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSBBRERfVE9ETzpcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgICAgICAgdG9kbyh1bmRlZmluZWQsIGFjdGlvbilcbiAgICAgICAgICAgIF1cbiAgICAgICAgY2FzZSBUT0dHTEVfVE9ETzpcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZS5tYXAoaXRlbSA9PlxuICAgICAgICAgICAgdG9kbyhpdGVtLGFjdGlvbikpXG4gICAgICAgIGNhc2UgREVMRVRFX1RPRE86XG4gICAgICAgICAgICByZXR1cm4gc3RhdGUuZmlsdGVyKHRvZG8gPT4gdG9kby5pZCAhPT0gYWN0aW9uLmlkKVxuICAgICAgICBjYXNlIENMRUFSX1RPRE86XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gc3RhdGVcbiAgfVxufVxuXG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vcmVkdWNlcnMvdG9kb3MuanNcbiAqKi8iLCJcbmV4cG9ydCBjb25zdCBBRERfVE9ETyA9ICdBRERfVE9ETyc7XG5leHBvcnQgY29uc3QgVE9HR0xFX1RPRE8gPSAnVE9HR0xFX1RPRE8nO1xuZXhwb3J0IGNvbnN0IERFTEVURV9UT0RPID0gJ0RFTEVURV9UT0RPJztcbmV4cG9ydCBjb25zdCBDTEVBUl9UT0RPID0gJ0NMRUFSX1RPRE8nXG5cbmV4cG9ydCBjb25zdCBGSUxURVJfVE9ETyA9ICdGSUxURVJfVE9ETyc7XG5cbmV4cG9ydCBjb25zdCBTQVZFX0lOUFVUID0gJ1NBVkVfSU5QVVQnO1xuXG5sZXQgbm9kZSA9IDA7XG5leHBvcnQgZnVuY3Rpb24gYWRkVG9kbyh2YWx1ZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IEFERF9UT0RPLFxuICAgICAgICBpZDogbm9kZSsrLFxuICAgICAgICB2YWx1ZVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVJbnB1dCh2YWx1ZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFNBVkVfSU5QVVQsXG4gICAgICAgIHZhbHVlXG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlVG9kbyhpZCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFRPR0dMRV9UT0RPLFxuICAgICAgICBpZFxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZVRvZG8oaWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBERUxFVEVfVE9ETyxcbiAgICAgICAgaWRcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJUb2RvKGZpbHRlcikge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IEZJTFRFUl9UT0RPLFxuICAgICAgICBmaWx0ZXJcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhclRvZG8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogQ0xFQVJfVE9ET1xuICAgIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYWN0aW9ucy90b2Rvcy5qc1xuICoqLyIsImltcG9ydCB7IFNFVF9GSUxURVIgfSBmcm9tICcuLi9hY3Rpb25zL3NldEZpbHRlcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJOYW1lKHN0YXRlPSAnQUxMJyxhY3Rpb24pIHtcbiAgICBzd2l0Y2goYWN0aW9uLnR5cGUpe1xuICAgICAgICBjYXNlIFNFVF9GSUxURVI6XG4gICAgICAgICAgICByZXR1cm4gYWN0aW9uLmZpbHRlcjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG5cbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3JlZHVjZXJzL3NldEZpbHRlci5qc1xuICoqLyIsIlxuZXhwb3J0IGNvbnN0IFNFVF9GSUxURVIgPSAnU0VUX0ZJTFRFUic7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRGaWx0ZXIoZmlsdGVyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogU0VUX0ZJTFRFUixcbiAgICAgICAgZmlsdGVyXG4gICAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hY3Rpb25zL3NldEZpbHRlci5qc1xuICoqLyIsInZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbnZhciBkZWZhdWx0Q2xpY2tSZWplY3Rpb25TdHJhdGVneSA9IHJlcXVpcmUoJy4vZGVmYXVsdENsaWNrUmVqZWN0aW9uU3RyYXRlZ3knKTtcblxudmFyIGFscmVhZHlJbmplY3RlZCA9IGZhbHNlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluamVjdFRhcEV2ZW50UGx1Z2luIChzdHJhdGVneU92ZXJyaWRlcykge1xuICBzdHJhdGVneU92ZXJyaWRlcyA9IHN0cmF0ZWd5T3ZlcnJpZGVzIHx8IHt9XG4gIHZhciBzaG91bGRSZWplY3RDbGljayA9IHN0cmF0ZWd5T3ZlcnJpZGVzLnNob3VsZFJlamVjdENsaWNrIHx8IGRlZmF1bHRDbGlja1JlamVjdGlvblN0cmF0ZWd5O1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaW52YXJpYW50KFxuICAgICAgIWFscmVhZHlJbmplY3RlZCxcbiAgICAgICdpbmplY3RUYXBFdmVudFBsdWdpbigpOiBDYW4gb25seSBiZSBjYWxsZWQgb25jZSBwZXIgYXBwbGljYXRpb24gbGlmZWN5Y2xlLlxcblxcblxcXG5JdCBpcyByZWNvbW1lbmRlZCB0byBjYWxsIGluamVjdFRhcEV2ZW50UGx1Z2luKCkganVzdCBiZWZvcmUgeW91IGNhbGwgXFxcblJlYWN0RE9NLnJlbmRlcigpLiBJZiB5b3UgYXJlIHVzaW5nIGFuIGV4dGVybmFsIGxpYnJhcnkgd2hpY2ggY2FsbHMgaW5qZWN0VGFwRXZlbnRQbHVnaW4oKSBcXFxuaXRzZWxmLCBwbGVhc2UgY29udGFjdCB0aGUgbWFpbnRhaW5lciBhcyBpdCBzaG91bGRuXFwndCBiZSBjYWxsZWQgaW4gbGlicmFyeSBjb2RlIGFuZCBcXFxuc2hvdWxkIGJlIGluamVjdGVkIGJ5IHRoZSBhcHBsaWNhdGlvbi4nXG4gICAgKVxuICB9XG5cbiAgYWxyZWFkeUluamVjdGVkID0gdHJ1ZTtcblxuICByZXF1aXJlKCdyZWFjdC9saWIvRXZlbnRQbHVnaW5IdWInKS5pbmplY3Rpb24uaW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lKHtcbiAgICAnVGFwRXZlbnRQbHVnaW4nOiAgICAgICByZXF1aXJlKCcuL1RhcEV2ZW50UGx1Z2luLmpzJykoc2hvdWxkUmVqZWN0Q2xpY2spXG4gIH0pO1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi4vfi9yZWFjdC10YXAtZXZlbnQtcGx1Z2luL3NyYy9pbmplY3RUYXBFdmVudFBsdWdpbi5qc1xuICoqIG1vZHVsZSBpZCA9IDI1N1xuICoqIG1vZHVsZSBjaHVua3MgPSAxXG4gKiovIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGludmFyaWFudFxuICovXG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIFVzZSBpbnZhcmlhbnQoKSB0byBhc3NlcnQgc3RhdGUgd2hpY2ggeW91ciBwcm9ncmFtIGFzc3VtZXMgdG8gYmUgdHJ1ZS5cbiAqXG4gKiBQcm92aWRlIHNwcmludGYtc3R5bGUgZm9ybWF0IChvbmx5ICVzIGlzIHN1cHBvcnRlZCkgYW5kIGFyZ3VtZW50c1xuICogdG8gcHJvdmlkZSBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGJyb2tlIGFuZCB3aGF0IHlvdSB3ZXJlXG4gKiBleHBlY3RpbmcuXG4gKlxuICogVGhlIGludmFyaWFudCBtZXNzYWdlIHdpbGwgYmUgc3RyaXBwZWQgaW4gcHJvZHVjdGlvbiwgYnV0IHRoZSBpbnZhcmlhbnRcbiAqIHdpbGwgcmVtYWluIHRvIGVuc3VyZSBsb2dpYyBkb2VzIG5vdCBkaWZmZXIgaW4gcHJvZHVjdGlvbi5cbiAqL1xuXG52YXIgaW52YXJpYW50ID0gZnVuY3Rpb24gKGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFjb25kaXRpb24pIHtcbiAgICB2YXIgZXJyb3I7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcignTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgJyArICdmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcignSW52YXJpYW50IFZpb2xhdGlvbjogJyArIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgfSkpO1xuICAgIH1cblxuICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuLi9+L3JlYWN0LXRhcC1ldmVudC1wbHVnaW4vfi9mYmpzL2xpYi9pbnZhcmlhbnQuanNcbiAqKiBtb2R1bGUgaWQgPSAyNThcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGFzdFRvdWNoRXZlbnQsIGNsaWNrVGltZXN0YW1wKSB7XG4gIGlmIChsYXN0VG91Y2hFdmVudCAmJiAoY2xpY2tUaW1lc3RhbXAgLSBsYXN0VG91Y2hFdmVudCkgPCA3NTApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi4vfi9yZWFjdC10YXAtZXZlbnQtcGx1Z2luL3NyYy9kZWZhdWx0Q2xpY2tSZWplY3Rpb25TdHJhdGVneS5qc1xuICoqIG1vZHVsZSBpZCA9IDI1OVxuICoqIG1vZHVsZSBjaHVua3MgPSAxXG4gKiovIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE0IEZhY2Vib29rLCBJbmMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFRhcEV2ZW50UGx1Z2luXG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgRXZlbnRDb25zdGFudHMgPSByZXF1aXJlKCdyZWFjdC9saWIvRXZlbnRDb25zdGFudHMnKTtcbnZhciBFdmVudFBsdWdpblV0aWxzID0gcmVxdWlyZSgncmVhY3QvbGliL0V2ZW50UGx1Z2luVXRpbHMnKTtcbnZhciBFdmVudFByb3BhZ2F0b3JzID0gcmVxdWlyZSgncmVhY3QvbGliL0V2ZW50UHJvcGFnYXRvcnMnKTtcbnZhciBTeW50aGV0aWNVSUV2ZW50ID0gcmVxdWlyZSgncmVhY3QvbGliL1N5bnRoZXRpY1VJRXZlbnQnKTtcbnZhciBUb3VjaEV2ZW50VXRpbHMgPSByZXF1aXJlKCcuL1RvdWNoRXZlbnRVdGlscycpO1xudmFyIFZpZXdwb3J0TWV0cmljcyA9IHJlcXVpcmUoJ3JlYWN0L2xpYi9WaWV3cG9ydE1ldHJpY3MnKTtcblxudmFyIGtleU9mID0gcmVxdWlyZSgnZmJqcy9saWIva2V5T2YnKTtcbnZhciB0b3BMZXZlbFR5cGVzID0gRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlcztcblxudmFyIGlzU3RhcnRpc2ggPSBFdmVudFBsdWdpblV0aWxzLmlzU3RhcnRpc2g7XG52YXIgaXNFbmRpc2ggPSBFdmVudFBsdWdpblV0aWxzLmlzRW5kaXNoO1xuXG52YXIgaXNUb3VjaCA9IGZ1bmN0aW9uKHRvcExldmVsVHlwZSkge1xuICB2YXIgdG91Y2hUeXBlcyA9IFtcbiAgICB0b3BMZXZlbFR5cGVzLnRvcFRvdWNoQ2FuY2VsLFxuICAgIHRvcExldmVsVHlwZXMudG9wVG91Y2hFbmQsXG4gICAgdG9wTGV2ZWxUeXBlcy50b3BUb3VjaFN0YXJ0LFxuICAgIHRvcExldmVsVHlwZXMudG9wVG91Y2hNb3ZlXG4gIF07XG4gIHJldHVybiB0b3VjaFR5cGVzLmluZGV4T2YodG9wTGV2ZWxUeXBlKSA+PSAwO1xufVxuXG4vKipcbiAqIE51bWJlciBvZiBwaXhlbHMgdGhhdCBhcmUgdG9sZXJhdGVkIGluIGJldHdlZW4gYSBgdG91Y2hTdGFydGAgYW5kIGB0b3VjaEVuZGBcbiAqIGluIG9yZGVyIHRvIHN0aWxsIGJlIGNvbnNpZGVyZWQgYSAndGFwJyBldmVudC5cbiAqL1xudmFyIHRhcE1vdmVUaHJlc2hvbGQgPSAxMDtcbnZhciBpZ25vcmVNb3VzZVRocmVzaG9sZCA9IDc1MDtcbnZhciBzdGFydENvb3JkcyA9IHt4OiBudWxsLCB5OiBudWxsfTtcbnZhciBsYXN0VG91Y2hFdmVudCA9IG51bGw7XG5cbnZhciBBeGlzID0ge1xuICB4OiB7cGFnZTogJ3BhZ2VYJywgY2xpZW50OiAnY2xpZW50WCcsIGVudlNjcm9sbDogJ2N1cnJlbnRQYWdlU2Nyb2xsTGVmdCd9LFxuICB5OiB7cGFnZTogJ3BhZ2VZJywgY2xpZW50OiAnY2xpZW50WScsIGVudlNjcm9sbDogJ2N1cnJlbnRQYWdlU2Nyb2xsVG9wJ31cbn07XG5cbmZ1bmN0aW9uIGdldEF4aXNDb29yZE9mRXZlbnQoYXhpcywgbmF0aXZlRXZlbnQpIHtcbiAgdmFyIHNpbmdsZVRvdWNoID0gVG91Y2hFdmVudFV0aWxzLmV4dHJhY3RTaW5nbGVUb3VjaChuYXRpdmVFdmVudCk7XG4gIGlmIChzaW5nbGVUb3VjaCkge1xuICAgIHJldHVybiBzaW5nbGVUb3VjaFtheGlzLnBhZ2VdO1xuICB9XG4gIHJldHVybiBheGlzLnBhZ2UgaW4gbmF0aXZlRXZlbnQgP1xuICAgIG5hdGl2ZUV2ZW50W2F4aXMucGFnZV0gOlxuICAgIG5hdGl2ZUV2ZW50W2F4aXMuY2xpZW50XSArIFZpZXdwb3J0TWV0cmljc1theGlzLmVudlNjcm9sbF07XG59XG5cbmZ1bmN0aW9uIGdldERpc3RhbmNlKGNvb3JkcywgbmF0aXZlRXZlbnQpIHtcbiAgdmFyIHBhZ2VYID0gZ2V0QXhpc0Nvb3JkT2ZFdmVudChBeGlzLngsIG5hdGl2ZUV2ZW50KTtcbiAgdmFyIHBhZ2VZID0gZ2V0QXhpc0Nvb3JkT2ZFdmVudChBeGlzLnksIG5hdGl2ZUV2ZW50KTtcbiAgcmV0dXJuIE1hdGgucG93KFxuICAgIE1hdGgucG93KHBhZ2VYIC0gY29vcmRzLngsIDIpICsgTWF0aC5wb3cocGFnZVkgLSBjb29yZHMueSwgMiksXG4gICAgMC41XG4gICk7XG59XG5cbnZhciB0b3VjaEV2ZW50cyA9IFtcbiAgdG9wTGV2ZWxUeXBlcy50b3BUb3VjaFN0YXJ0LFxuICB0b3BMZXZlbFR5cGVzLnRvcFRvdWNoQ2FuY2VsLFxuICB0b3BMZXZlbFR5cGVzLnRvcFRvdWNoRW5kLFxuICB0b3BMZXZlbFR5cGVzLnRvcFRvdWNoTW92ZSxcbl07XG5cbnZhciBkZXBlbmRlbmNpZXMgPSBbXG4gIHRvcExldmVsVHlwZXMudG9wTW91c2VEb3duLFxuICB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlTW92ZSxcbiAgdG9wTGV2ZWxUeXBlcy50b3BNb3VzZVVwLFxuXS5jb25jYXQodG91Y2hFdmVudHMpO1xuXG52YXIgZXZlbnRUeXBlcyA9IHtcbiAgdG91Y2hUYXA6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDoga2V5T2Yoe29uVG91Y2hUYXA6IG51bGx9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7b25Ub3VjaFRhcENhcHR1cmU6IG51bGx9KVxuICAgIH0sXG4gICAgZGVwZW5kZW5jaWVzOiBkZXBlbmRlbmNpZXNcbiAgfVxufTtcblxudmFyIG5vdyA9IChmdW5jdGlvbigpIHtcbiAgaWYgKERhdGUubm93KSB7XG4gICAgcmV0dXJuIERhdGUubm93O1xuICB9IGVsc2Uge1xuICAgIC8vIElFOCBzdXBwb3J0OiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzk0MzAzNTcvcGxlYXNlLWV4cGxhaW4td2h5LWFuZC1ob3ctbmV3LWRhdGUtd29ya3MtYXMtd29ya2Fyb3VuZC1mb3ItZGF0ZS1ub3ctaW5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICtuZXcgRGF0ZTtcbiAgICB9XG4gIH1cbn0pKCk7XG5cbmZ1bmN0aW9uIGNyZWF0ZVRhcEV2ZW50UGx1Z2luKHNob3VsZFJlamVjdENsaWNrKSB7XG4gIHJldHVybiB7XG5cbiAgICB0YXBNb3ZlVGhyZXNob2xkOiB0YXBNb3ZlVGhyZXNob2xkLFxuXG4gICAgaWdub3JlTW91c2VUaHJlc2hvbGQ6IGlnbm9yZU1vdXNlVGhyZXNob2xkLFxuXG4gICAgZXZlbnRUeXBlczogZXZlbnRUeXBlcyxcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0b3BMZXZlbFR5cGUgUmVjb3JkIGZyb20gYEV2ZW50Q29uc3RhbnRzYC5cbiAgICAgKiBAcGFyYW0ge0RPTUV2ZW50VGFyZ2V0fSB0YXJnZXRJbnN0IFRoZSBsaXN0ZW5pbmcgY29tcG9uZW50IHJvb3Qgbm9kZS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gICAgICogQHJldHVybiB7Kn0gQW4gYWNjdW11bGF0aW9uIG9mIHN5bnRoZXRpYyBldmVudHMuXG4gICAgICogQHNlZSB7RXZlbnRQbHVnaW5IdWIuZXh0cmFjdEV2ZW50c31cbiAgICAgKi9cbiAgICBleHRyYWN0RXZlbnRzOiBmdW5jdGlvbihcbiAgICAgIHRvcExldmVsVHlwZSxcbiAgICAgIHRhcmdldEluc3QsXG4gICAgICBuYXRpdmVFdmVudCxcbiAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgKSB7XG5cbiAgICAgIGlmIChpc1RvdWNoKHRvcExldmVsVHlwZSkpIHtcbiAgICAgICAgbGFzdFRvdWNoRXZlbnQgPSBub3coKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzaG91bGRSZWplY3RDbGljayhsYXN0VG91Y2hFdmVudCwgbm93KCkpKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFpc1N0YXJ0aXNoKHRvcExldmVsVHlwZSkgJiYgIWlzRW5kaXNoKHRvcExldmVsVHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICB2YXIgZXZlbnQgPSBudWxsO1xuICAgICAgdmFyIGRpc3RhbmNlID0gZ2V0RGlzdGFuY2Uoc3RhcnRDb29yZHMsIG5hdGl2ZUV2ZW50KTtcbiAgICAgIGlmIChpc0VuZGlzaCh0b3BMZXZlbFR5cGUpICYmIGRpc3RhbmNlIDwgdGFwTW92ZVRocmVzaG9sZCkge1xuICAgICAgICBldmVudCA9IFN5bnRoZXRpY1VJRXZlbnQuZ2V0UG9vbGVkKFxuICAgICAgICAgIGV2ZW50VHlwZXMudG91Y2hUYXAsXG4gICAgICAgICAgdGFyZ2V0SW5zdCxcbiAgICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgICBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3RhcnRpc2godG9wTGV2ZWxUeXBlKSkge1xuICAgICAgICBzdGFydENvb3Jkcy54ID0gZ2V0QXhpc0Nvb3JkT2ZFdmVudChBeGlzLngsIG5hdGl2ZUV2ZW50KTtcbiAgICAgICAgc3RhcnRDb29yZHMueSA9IGdldEF4aXNDb29yZE9mRXZlbnQoQXhpcy55LCBuYXRpdmVFdmVudCk7XG4gICAgICB9IGVsc2UgaWYgKGlzRW5kaXNoKHRvcExldmVsVHlwZSkpIHtcbiAgICAgICAgc3RhcnRDb29yZHMueCA9IDA7XG4gICAgICAgIHN0YXJ0Q29vcmRzLnkgPSAwO1xuICAgICAgfVxuICAgICAgRXZlbnRQcm9wYWdhdG9ycy5hY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGV2ZW50KTtcbiAgICAgIHJldHVybiBldmVudDtcbiAgICB9XG5cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVUYXBFdmVudFBsdWdpbjtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi4vfi9yZWFjdC10YXAtZXZlbnQtcGx1Z2luL3NyYy9UYXBFdmVudFBsdWdpbi5qc1xuICoqIG1vZHVsZSBpZCA9IDI2MFxuICoqIG1vZHVsZSBjaHVua3MgPSAxXG4gKiovIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE0IEZhY2Vib29rLCBJbmMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFRvdWNoRXZlbnRVdGlsc1xuICovXG5cbnZhciBUb3VjaEV2ZW50VXRpbHMgPSB7XG4gIC8qKlxuICAgKiBVdGlsaXR5IGZ1bmN0aW9uIGZvciBjb21tb24gY2FzZSBvZiBleHRyYWN0aW5nIG91dCB0aGUgcHJpbWFyeSB0b3VjaCBmcm9tIGFcbiAgICogdG91Y2ggZXZlbnQuXG4gICAqIC0gYHRvdWNoRW5kYCBldmVudHMgdXN1YWxseSBkbyBub3QgaGF2ZSB0aGUgYHRvdWNoZXNgIHByb3BlcnR5LlxuICAgKiAgIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzY2NjkyOS9cbiAgICogICBtb2JpbGUtc2FyYWktdG91Y2hlbmQtZXZlbnQtbm90LWZpcmluZy13aGVuLWxhc3QtdG91Y2gtaXMtcmVtb3ZlZFxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBuYXRpdmVFdmVudCBOYXRpdmUgZXZlbnQgdGhhdCBtYXkgb3IgbWF5IG5vdCBiZSBhIHRvdWNoLlxuICAgKiBAcmV0dXJuIHtUb3VjaGVzT2JqZWN0P30gYW4gb2JqZWN0IHdpdGggcGFnZVggYW5kIHBhZ2VZIG9yIG51bGwuXG4gICAqL1xuICBleHRyYWN0U2luZ2xlVG91Y2g6IGZ1bmN0aW9uKG5hdGl2ZUV2ZW50KSB7XG4gICAgdmFyIHRvdWNoZXMgPSBuYXRpdmVFdmVudC50b3VjaGVzO1xuICAgIHZhciBjaGFuZ2VkVG91Y2hlcyA9IG5hdGl2ZUV2ZW50LmNoYW5nZWRUb3VjaGVzO1xuICAgIHZhciBoYXNUb3VjaGVzID0gdG91Y2hlcyAmJiB0b3VjaGVzLmxlbmd0aCA+IDA7XG4gICAgdmFyIGhhc0NoYW5nZWRUb3VjaGVzID0gY2hhbmdlZFRvdWNoZXMgJiYgY2hhbmdlZFRvdWNoZXMubGVuZ3RoID4gMDtcblxuICAgIHJldHVybiAhaGFzVG91Y2hlcyAmJiBoYXNDaGFuZ2VkVG91Y2hlcyA/IGNoYW5nZWRUb3VjaGVzWzBdIDpcbiAgICAgICAgICAgaGFzVG91Y2hlcyA/IHRvdWNoZXNbMF0gOlxuICAgICAgICAgICBuYXRpdmVFdmVudDtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBUb3VjaEV2ZW50VXRpbHM7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4uL34vcmVhY3QtdGFwLWV2ZW50LXBsdWdpbi9zcmMvVG91Y2hFdmVudFV0aWxzLmpzXG4gKiogbW9kdWxlIGlkID0gMjYxXG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUga2V5T2ZcbiAqL1xuXG4vKipcbiAqIEFsbG93cyBleHRyYWN0aW9uIG9mIGEgbWluaWZpZWQga2V5LiBMZXQncyB0aGUgYnVpbGQgc3lzdGVtIG1pbmlmeSBrZXlzXG4gKiB3aXRob3V0IGxvc2luZyB0aGUgYWJpbGl0eSB0byBkeW5hbWljYWxseSB1c2Uga2V5IHN0cmluZ3MgYXMgdmFsdWVzXG4gKiB0aGVtc2VsdmVzLiBQYXNzIGluIGFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIGtleS92YWwgcGFpciBhbmQgaXQgd2lsbCByZXR1cm5cbiAqIHlvdSB0aGUgc3RyaW5nIGtleSBvZiB0aGF0IHNpbmdsZSByZWNvcmQuIFN1cHBvc2UgeW91IHdhbnQgdG8gZ3JhYiB0aGVcbiAqIHZhbHVlIGZvciBhIGtleSAnY2xhc3NOYW1lJyBpbnNpZGUgb2YgYW4gb2JqZWN0LiBLZXkvdmFsIG1pbmlmaWNhdGlvbiBtYXlcbiAqIGhhdmUgYWxpYXNlZCB0aGF0IGtleSB0byBiZSAneGExMicuIGtleU9mKHtjbGFzc05hbWU6IG51bGx9KSB3aWxsIHJldHVyblxuICogJ3hhMTInIGluIHRoYXQgY2FzZS4gUmVzb2x2ZSBrZXlzIHlvdSB3YW50IHRvIHVzZSBvbmNlIGF0IHN0YXJ0dXAgdGltZSwgdGhlblxuICogcmV1c2UgdGhvc2UgcmVzb2x1dGlvbnMuXG4gKi9cblwidXNlIHN0cmljdFwiO1xuXG52YXIga2V5T2YgPSBmdW5jdGlvbiAob25lS2V5T2JqKSB7XG4gIHZhciBrZXk7XG4gIGZvciAoa2V5IGluIG9uZUtleU9iaikge1xuICAgIGlmICghb25lS2V5T2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICByZXR1cm4ga2V5O1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBrZXlPZjtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4uL34vcmVhY3QtdGFwLWV2ZW50LXBsdWdpbi9+L2ZianMvbGliL2tleU9mLmpzXG4gKiogbW9kdWxlIGlkID0gMjYyXG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgd2l0aFJvdXRlciB9IGZyb20gJ3JlYWN0LXJvdXRlcic7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IEFkZFRvZG8gZnJvbSAnLi4vY29udGFpbmVyL2FkZFRvZG8nO1xuaW1wb3J0IFRvZG9MaXN0IGZyb20gJy4uL2NvbnRhaW5lci90b2RvTGlzdCc7XG5pbXBvcnQgVG9kb1N0YXR1cyBmcm9tICcuLi9jb250YWluZXIvdG9kb1N0YXR1cyc7XG5pbXBvcnQgRm9vdGVyIGZyb20gJy4uL2NvbnRhaW5lci9mb290ZXInO1xuaW1wb3J0IFBhZ2UgZnJvbSAnLi9wYWdlLmpzeCc7XG5cblxuY2xhc3MgQWxsIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50e1xuICAgIHJlbmRlcigpe1xuICAgICAgICBjb25zdCB7IHRvZG9zIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICByZXR1cm4oXG4gICAgICAgICAgIDxQYWdlPlxuICAgICAgICAgICAgICAgIDxBZGRUb2RvLz5cbiAgICAgICAgICAgICAgICA8VG9kb1N0YXR1cyB0b2Rvcz17dG9kb3N9Lz5cbiAgICAgICAgICAgICAgICA8VG9kb0xpc3QgdG9kb3M9e3RvZG9zfS8+XG4gICAgICAgICAgICAgICAgPEZvb3RlciB0b2Rvcz17dG9kb3N9Lz5cbiAgICAgICAgICAgPC9QYWdlPlxuICAgICAgICApXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB3aXRoUm91dGVyKGNvbm5lY3QoKHN0YXRlKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9kb3M6IHN0YXRlLnRvZG9zXG4gICAgfVxufSkoQWxsKSk7XG5cblxuXG5cblxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIFxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vY29tcG9uZW50cy9hbGwuanN4XG4gKiovIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyBzYXZlSW5wdXQsYWRkVG9kbyB9IGZyb20gJy4uL2FjdGlvbnMvdG9kb3MnO1xuXG5jbGFzcyBBZGRUb2RvIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50e1xuICAgIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygxMjM0KTtcbiAgICAgICAgfSwxMDAwKVxuICAgIH1cbiAgICBnZXRJbnB1dFZhbHVlKGUpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgIGNvbnN0IHsgZGlzcGF0Y2ggfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIGRpc3BhdGNoKHNhdmVJbnB1dCh2YWx1ZSkpO1xuICAgIH1cbiAgICBhZGRMaXN0KGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCB7IGRpc3BhdGNoLGlucHV0IH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBpZih0aGlzLnJlZnMuaW5wdXQudmFsdWUpe1xuICAgICAgICAgICAgZGlzcGF0Y2goYWRkVG9kbyhpbnB1dCkpO1xuICAgICAgICAgICAgdGhpcy5yZWZzLmlucHV0LnZhbHVlID0gJyc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVuZGVyKCl7XG4gICAgICAgIHJldHVybihcbiAgICAgICAgICAgIDxoZWFkZXI+XG4gICAgICAgICAgICAgICAgPGZvcm0gY2xhc3NOYW1lPVwiZm9ybS1ob3Jpem9udGFsXCIgb25TdWJtaXQ9e2UgPT4gdGhpcy5hZGRMaXN0KGUpfT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0zIGNvbC14cy05XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCIgcmVmPVwiaW5wdXRcIiBvbkNoYW5nZT17ZSA9PiB0aGlzLmdldElucHV0VmFsdWUoZSl9Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMyBjb2wteHMtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiPmFkZDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgICA8L2hlYWRlcj5cbiAgICAgICAgKVxuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QoKHN0YXRlKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5wdXQ6IHN0YXRlLmlucHV0XG4gICAgfVxufSkoQWRkVG9kbyk7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9jb250YWluZXIvYWRkVG9kby5qc1xuICoqLyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IFRvZG8gZnJvbSAnLi90b2RvJztcbmltcG9ydCB7IHRvZ2dsZVRvZG8sZGVsZXRlVG9kbyB9IGZyb20gJy4uL2FjdGlvbnMvdG9kb3MnO1xuXG5jbGFzcyBUb2RvTGlzdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudHtcbiAgICBvblRvZ2dsZUNsaWNrKGlkKSB7XG4gICAgICAgIGNvbnN0IHsgZGlzcGF0Y2ggfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIGRpc3BhdGNoKHRvZ2dsZVRvZG8oaWQpKTtcbiAgICB9XG4gICAgb25EZWxldGVDbGljayhpZCkge1xuICAgICAgICBjb25zdCB7IGRpc3BhdGNoIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBkaXNwYXRjaChkZWxldGVUb2RvKGlkKSk7XG4gICAgfVxuICAgIHJlbmRlcigpe1xuICAgICAgICBjb25zdCB7IHRvZG9zLGZpbHRlck5hbWUgfSA9IHRoaXMucHJvcHM7XG5cbiAgICAgICAgY29uc3QgdmlzaWJlbFRvZG9zID0gKHRvZG9zLGZpbHRlck5hbWUpID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAoZmlsdGVyTmFtZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ0FMTCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2Rvc1xuICAgICAgICAgICAgICAgIGNhc2UgJ0NPTVBMRVRFRCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2Rvcy5maWx0ZXIodCA9PiB0LmNvbXBsZXRlZClcbiAgICAgICAgICAgICAgICBjYXNlICdBQ1RJVkUnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9kb3MuZmlsdGVyKHQgPT4gIXQuY29tcGxldGVkKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybihcbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWdyb3VwXCI+XG4gICAgICAgICAgICAgICAge3Zpc2liZWxUb2Rvcyh0b2RvcyxmaWx0ZXJOYW1lKS5tYXAodG9kbyA9PiBcbiAgICAgICAgICAgICAgICAgICAgPFRvZG8ga2V5PXt0b2RvLmlkfSB7Li4udG9kb30gdG9nZ2xlQ2xpY2s9eygpID0+IHRoaXMub25Ub2dnbGVDbGljayh0b2RvLmlkKX0gXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZUNsaWNrPXsoKSA9PiB0aGlzLm9uRGVsZXRlQ2xpY2sodG9kby5pZCl9Lz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgKVxuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QoKHN0YXRlKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZmlsdGVyTmFtZTogc3RhdGUuZmlsdGVyTmFtZVxuICAgIH1cbn0pKFRvZG9MaXN0KTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2NvbnRhaW5lci90b2RvTGlzdC5qc1xuICoqLyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuXG5jbGFzcyBUb2RvIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50e1xuICAgIHJlbmRlcigpe1xuICAgICAgICBjb25zdCB7IHRvZ2dsZUNsaWNrLGRlbGV0ZUNsaWNrLHRleHQsY29tcGxldGVkIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICByZXR1cm4oXG4gICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtXCIgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICB0ZXh0RGVjb3JhdGlvbjogY29tcGxldGVkID8gJ2xpbmUtdGhyb3VnaCcgOiAnbm9uZSdcbiAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjaGVja2VkPXtjb21wbGV0ZWR9IG9uQ2hhbmdlPXt0b2dnbGVDbGlja30vPiAgXG4gICAgICAgICAgICAgICAgJm5ic3A7e3RleHR9XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXhzIHB1bGwtcmlnaHQgYnRuLWRlZmF1bHRcIiB0eXBlPVwiYnV0dG9uXCIgb25DbGljaz17ZGVsZXRlQ2xpY2t9PuWIoOmZpDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgKVxuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IFRvZG87XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9jb250YWluZXIvdG9kby5qc1xuICoqLyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IEZpbHRlckxpbmsgZnJvbSAnLi9maWx0ZXJMaW5rJztcblxuXG5jbGFzcyBUb2RvU3RhdHVzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50e1xuICAgIHNldFZpc2libGVGaWx0ZXIob3duUHJvcHMpIHtcbiAgICAgICAgY29uc3QgeyBkaXNwYXRjaCB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgZGlzcGF0Y2goc2V0RmlsdGVyKG93blByb3BzLmZpbHRlcikpO1xuICAgIH1cblxuICAgIHJlbmRlcigpe1xuICAgICAgICBjb25zdCB7IHRvZG9zIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBsZXQgYWxsID0gdG9kb3MubGVuZ3RoO1xuICAgICAgICBsZXQgYWN0aXZlID0gdG9kb3MuZmlsdGVyKHRvZG8gPT4gIXRvZG8uY29tcGxldGVkKS5sZW5ndGg7XG4gICAgICAgIGxldCBjb21wbGV0ZWQgPSB0b2Rvcy5maWx0ZXIodG9kbyA9PiB0b2RvLmNvbXBsZXRlZCkubGVuZ3RoO1xuICAgICAgICByZXR1cm4oXG4gICAgICAgICAgICA8c2VjdGlvbj5cbiAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibmF2IG5hdi10YWJzXCIgcm9sZT1cInRhYmxpc3RcIj5cbiAgICAgICAgICAgICAgICAgICAgPEZpbHRlckxpbmsgZmlsdGVyPVwiQUxMXCIgbnVtPXthbGx9PuWFqOmDqDwvRmlsdGVyTGluaz5cbiAgICAgICAgICAgICAgICAgICAgPEZpbHRlckxpbmsgZmlsdGVyPVwiQUNUSVZFXCIgbnVtPXthY3RpdmV9Pui/m+ihjOS4rTwvRmlsdGVyTGluaz5cbiAgICAgICAgICAgICAgICAgICAgPEZpbHRlckxpbmsgZmlsdGVyPVwiQ09NUExFVEVEXCIgbnVtPXtjb21wbGV0ZWR9PuW3suWujOaIkDwvRmlsdGVyTGluaz5cbiAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgIDxici8+XG4gICAgICAgICAgICA8L3NlY3Rpb24+XG4gICAgICAgIClcbiAgICB9XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdCgpKFRvZG9TdGF0dXMpO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vY29udGFpbmVyL3RvZG9TdGF0dXMuanNcbiAqKi8iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgc2V0RmlsdGVyIH0gZnJvbSAnLi4vYWN0aW9ucy9zZXRGaWx0ZXInO1xuXG5jbGFzcyBGaWx0ZXJMaW5rIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50e1xuICAgIHNldFZpc2libGVUeXBlKGZpbHRlcikge1xuICAgICAgICBjb25zdCB7IGRpc3BhdGNoIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBkaXNwYXRjaChzZXRGaWx0ZXIoZmlsdGVyKSk7XG4gICAgfVxuICAgIHJlbmRlcigpe1xuICAgICAgICBjb25zdCB7IGZpbHRlcixmaWx0ZXJOYW1lLG51bSB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgY29uc3QgYWN0aXZlID0gZmlsdGVyID09PSBmaWx0ZXJOYW1lO1xuICAgICAgICByZXR1cm4oXG4gICAgICAgICAgICA8bGkgcm9sZT1cInByZXNlbnRhdGlvblwiIGNsYXNzTmFtZT17YWN0aXZlPydhY3RpdmUnOicnfSBvbkNsaWNrPXsoKSA9PiB0aGlzLnNldFZpc2libGVUeXBlKGZpbHRlcil9PjxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMCk7XCI+e3RoaXMucHJvcHMuY2hpbGRyZW59IFxuICAgICAgICAgICAgICAgICZuYnNwOzxzcGFuIGNsYXNzTmFtZT1cImJhZGdlXCI+e251bX08L3NwYW4+PC9hPjwvbGk+XG4gICAgICAgIClcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QoKHN0YXRlKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZmlsdGVyTmFtZTogc3RhdGUuZmlsdGVyTmFtZVxuICAgIH1cbn0pKEZpbHRlckxpbmspXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9jb250YWluZXIvZmlsdGVyTGluay5qc1xuICoqLyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgY2xlYXJUb2RvIH0gZnJvbSAnLi4vYWN0aW9ucy90b2Rvcyc7XG5cbmNsYXNzIEZvb3RlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudHtcbiAgICBjbGVhckFsbCgpIHtcbiAgICAgICAgY29uc3QgeyBkaXNwYXRjaCB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgZGlzcGF0Y2goY2xlYXJUb2RvKCkpO1xuICAgIH1cbiAgICByZW5kZXIoKXtcbiAgICAgICAgY29uc3QgeyB0b2RvcyB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgcmV0dXJuKFxuICAgICAgICAgICAgPGZvb3Rlcj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXhzIHB1bGwtcmlnaHRcIiBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXkgOiB0b2Rvcy5sZW5ndGggPyAnYmxvY2snIDogJ25vbmUnXG4gICAgICAgICAgICAgICAgICAgICAgICB9fSBvbkNsaWNrPXsoKSA9PiB0aGlzLmNsZWFyQWxsKCl9Pua4heepujwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZm9vdGVyPlxuICAgICAgICApXG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdCgpKEZvb3Rlcik7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9jb250YWluZXIvZm9vdGVyLmpzXG4gKiovIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHdpdGhSb3V0ZXIgfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xuXG5jbGFzcyBQYWdlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50e1xuICAgIHJlbmRlcigpe1xuICAgICAgICByZXR1cm4oXG4gICAgICAgICAgICA8c2VjdGlvbj5cbiAgICAgICAgICAgICAgICA8bmF2IGNsYXNzTmFtZT1cIm5hdmJhciBuYXZiYXItZGVmYXVsdFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lci1mbHVpZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuYXZiYXItaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzc05hbWU9XCJuYXZiYXItYnJhbmRcIiBocmVmPVwiI1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QgKyBSZWR1eCArIFdlYnBhY2sgKyBSZWR1eC1yb3V0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L25hdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC04IGNvbC1tZC1vZmZzZXQtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgICApXG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgd2l0aFJvdXRlcihQYWdlKTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2NvbXBvbmVudHMvcGFnZS5qc3hcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9